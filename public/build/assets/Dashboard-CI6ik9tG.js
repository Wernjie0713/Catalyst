import{j as e,r as m}from"./index-D3Bj6weo.js";import{A as p}from"./AuthenticatedLayout-D_dNDKCJ.js";import{$ as x,a as g,K as v,L as b}from"./index.esm-CYkcvaz4.js";import{T as f}from"./TiltedEventCard-DE2CRwr_.js";import{D as j}from"./DisplayProfilePhoto-FZSZ12eh.js";import{m as i}from"./proxy-0rKmIGA_.js";import{A as y}from"./index-IFTv2SK_.js";import"./EventModal-Dkw4NVLG.js";import"./format-CGyNCyRw.js";const N=({user:a,index:r})=>e.jsx(i.div,{style:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2+r*.1},children:e.jsx(x,{href:route("profile.view",a.id),className:"group relative overflow-hidden block h-[200px]",children:e.jsxs("div",{className:"friend-card relative h-full p-6 bg-gradient-to-br from-gray-800/90 via-gray-900/95 to-gray-950/98 rounded-2xl backdrop-blur-md border border-white/5 hover:border-white/10 transition-all duration-300 shadow-xl hover:shadow-purple-500/10",children:[e.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.02] bg-[size:20px_20px]"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 via-transparent to-blue-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative flex items-center space-x-6 h-full",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-br from-purple-500/20 to-blue-500/20 rounded-full blur-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:"relative w-32 h-32 rounded-full overflow-hidden ring-2 ring-white/10 group-hover:ring-white/20 transition-all duration-300",children:e.jsx(j,{profilePhotoPath:a.profile_picture})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-2xl font-medium text-white group-hover:text-purple-200 transition-colors duration-300 mb-3",children:a.name}),e.jsxs("div",{className:"flex items-center text-gray-400 group-hover:text-gray-300 transition-colors duration-300",children:[e.jsx("span",{className:"material-symbols-outlined text-base mr-2 text-purple-400/70 group-hover:text-purple-400",children:"person"}),e.jsx("span",{className:"group-hover:bg-gradient-to-r group-hover:from-purple-200 group-hover:to-blue-200 group-hover:bg-clip-text group-hover:text-transparent transition-all duration-300",children:"View Profile"}),e.jsx("span",{className:"material-symbols-outlined text-purple-400 ml-2 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-300",children:"arrow_forward"})]})]})]})]})})});function w(){const[a,r]=m.useState(""),[o,l]=m.useState([]),[u,n]=m.useState(!1),d=m.useRef(null);m.useEffect(()=>{const s=c=>{d.current&&!d.current.contains(c.target)&&(l([]),n(!1))};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]);const t=async s=>{const c=s.target.value;if(r(c),c.length>0){n(!0);try{const h=await g.get(route("search.users",{query:c}));l(h.data.users)}catch(h){console.error("Search failed:",h)}}else l([]),n(!1)};return e.jsxs("div",{className:"relative",ref:d,children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:t,className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-200 placeholder-gray-400"}),e.jsx("span",{className:"absolute right-3 top-2.5 text-gray-400 material-symbols-outlined",children:"search"})]}),e.jsx(y,{children:o.length>0&&e.jsx(i.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute z-50 w-full mt-2 bg-gray-800 border border-gray-700 rounded-lg shadow-lg overflow-hidden",children:o.map(s=>e.jsx(x,{href:route("profile.view",s.id),className:"block px-4 py-3 hover:bg-gray-700/50 transition-colors duration-150",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full overflow-hidden bg-gray-700",children:s.profile_photo?e.jsx("img",{src:s.profile_photo,alt:"",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"person"})})}),e.jsx("div",{children:e.jsx("div",{className:"text-sm font-medium text-white",children:s.name})})]})},s.id))})})]})}function _(){var n,d;const{auth:a,stats:r,recentEvents:o,friendSuggestions:l}=v().props,u=()=>{const t=new Date().getHours();return t<12?"Good Morning":t<17?"Good Afternoon":"Good Evening"};return e.jsxs(p,{children:[e.jsx(b,{title:"Dashboard"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsx(i.div,{className:"mb-8",style:{opacity:0},animate:{opacity:1},transition:{duration:.7,ease:"easeOut"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-bold text-white mb-2",children:[u(),", ",a.user.name]}),e.jsxs("p",{className:"text-gray-400",children:["Welcome to your ",((n=a.user.roles[0])==null?void 0:n.title)||"dashboard"]})]}),e.jsx("div",{className:"w-72",children:e.jsx(w,{})})]})}),e.jsxs(i.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",style:{opacity:0},animate:{opacity:1},transition:{delay:.1,duration:.7},children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-500/10 to-purple-600/10 rounded-2xl p-6 backdrop-blur-md border border-white/5 hover:border-white/10 transition-all duration-300 hover:shadow-lg hover:shadow-blue-500/5 group",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Total Events"}),e.jsx("h3",{className:"text-3xl font-bold text-white",children:(r==null?void 0:r.totalEvents)||0})]}),e.jsx("div",{className:"bg-blue-500/10 p-3 rounded-xl group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"material-symbols-outlined text-blue-400",children:"event"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-600/10 rounded-2xl p-6 backdrop-blur-md border border-white/5 hover:border-white/10 transition-all duration-300 hover:shadow-lg hover:shadow-green-500/5 group",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Upcoming Events"}),e.jsx("h3",{className:"text-3xl font-bold text-white",children:(r==null?void 0:r.upcomingEvents)||0})]}),e.jsx("div",{className:"bg-green-500/10 p-3 rounded-xl group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"material-symbols-outlined text-green-400",children:"upcoming"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-orange-500/10 to-red-600/10 rounded-2xl p-6 backdrop-blur-md border border-white/5 hover:border-white/10 transition-all duration-300 hover:shadow-lg hover:shadow-orange-500/5 group",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"My Events"}),e.jsx("h3",{className:"text-3xl font-bold text-white",children:(r==null?void 0:r.myEvents)||0})]}),e.jsx("div",{className:"bg-orange-500/10 p-3 rounded-xl group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"material-symbols-outlined text-orange-400",children:"work_history"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-pink-500/10 to-purple-600/10 rounded-2xl p-6 backdrop-blur-md border border-white/5 hover:border-white/10 transition-all duration-300 hover:shadow-lg hover:shadow-pink-500/5 group",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Enrolled Events"}),e.jsx("h3",{className:"text-3xl font-bold text-white",children:(r==null?void 0:r.enrolledEvents)||0})]}),e.jsx("div",{className:"bg-pink-500/10 p-3 rounded-xl group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"material-symbols-outlined text-pink-400",children:"how_to_reg"})})]})})]}),e.jsxs(i.div,{style:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.7},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Recent Events"}),e.jsxs(i.a,{whileHover:{scale:1.02},whileTap:{scale:.98},href:route("events.index"),className:"text-blue-400 hover:text-blue-300 transition-colors duration-200 flex items-center space-x-1",children:[e.jsx("span",{children:"View All"}),e.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o==null?void 0:o.filter(t=>t.status!=="Completed").map(t=>e.jsx(i.div,{style:{opacity:0},animate:{opacity:1},children:e.jsx(f,{event:t,onEventUpdate:s=>{}})},t.event_id))})]}),((d=a.user.roles[0])==null?void 0:d.name)==="student"&&l.length>0&&e.jsxs(i.div,{style:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.7},className:"mt-12",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Friend Suggestions"})}),e.jsx("div",{className:"friend-suggestions grid grid-cols-1 md:grid-cols-3 gap-4",children:l.map((t,s)=>e.jsx(N,{user:t,index:s},t.id))})]})]})})]})}const T=Object.freeze(Object.defineProperty({__proto__:null,default:_},Symbol.toStringTag,{value:"Module"}));export{T as _};
