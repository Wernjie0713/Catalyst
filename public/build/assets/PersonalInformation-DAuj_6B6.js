import{r as p,j as e}from"./index-D3Bj6weo.js";import{U as V,F as Q,I as u}from"./FriendRequestButton-J8mPlSUj.js";import{m as B}from"./index.esm-CYkcvaz4.js";import{D as Y}from"./DisplayProfilePhoto-FZSZ12eh.js";function Z({lecturerId:t,mentorStatus:l,mentorRequestId:o}){const{data:a,setData:m,post:y,processing:c,reset:b}=B({message:""}),[d,x]=p.useState(l),[h,s]=p.useState(!1);p.useEffect(()=>{x(l)},[l]);const r=()=>{console.log("Opening mentor request modal, current status:",d),s(!0)},v=()=>{console.log("Submitting mentor request from profile:",{lecturerId:t,message:a.message,messageLength:a.message.length,route:route("mentor.request",t)}),y(route("mentor.request",t),{onSuccess:()=>{console.log("Mentor request sent successfully from profile"),x("pending"),s(!1),b()},onError:n=>{console.error("Error sending mentor request from profile:",n)}})},f=()=>d==="accepted"?e.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-green-500/80 text-white rounded-xl text-sm font-medium backdrop-blur-sm",disabled:!0,children:[e.jsx("span",{className:"material-symbols-outlined text-lg mr-2",children:"school"}),"Your Mentor"]}):d==="pending"?e.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-yellow-500/80 text-white rounded-xl text-sm font-medium backdrop-blur-sm cursor-not-allowed",disabled:!0,children:[e.jsx("span",{className:"material-symbols-outlined text-lg mr-2",children:"hourglass_empty"}),"Request Pending"]}):d==="rejected"?e.jsxs("button",{onClick:r,disabled:c,className:"inline-flex items-center px-4 py-2 bg-red-500/80 hover:bg-red-500 text-white rounded-xl text-sm font-medium transition-colors",children:[e.jsx("span",{className:"material-symbols-outlined text-lg mr-2",children:"refresh"}),"Request Again"]}):e.jsxs("button",{onClick:r,disabled:c,className:"inline-flex items-center px-4 py-2 bg-[#635985]/80 hover:bg-[#635985] text-white rounded-xl text-sm font-medium transition-colors",children:[e.jsx("span",{className:"material-symbols-outlined text-lg mr-2",children:"person_add"}),"Request Mentor"]});return e.jsxs(e.Fragment,{children:[f(),h&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Request Mentorship"}),e.jsx("textarea",{value:a.message,onChange:n=>m("message",n.target.value),placeholder:"Tell the lecturer why you'd like them as your mentor (optional)...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:"4",maxLength:"500"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1 mb-4",children:[a.message.length,"/500 characters"]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>{s(!1),b()},className:"flex-1 px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:v,disabled:c,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center",children:c?e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):"Send Request"})]})]})})]})}const G=["Faculty of Computing","Faculty of Civil Engineering","Faculty of Electrical Engineering","Faculty of Chemical Engineering","Faculty of Mechanical Engineering","Faculty of Industrial Sciences & Technology","Faculty of Manufacturing Engineering","Faculty of Technology Engineering","Faculty of Business & Communication","Faculty of Industrial Management","Faculty of Applied Sciences","Faculty of Science & Technology","Faculty of Medicine","Faculty of Pharmacy","Faculty of Dentistry","Faculty of Arts & Social Sciences","Faculty of Education","Faculty of Economics & Administration","Faculty of Law","Faculty of Built Environment","Faculty of Agriculture","Faculty of Forestry","Faculty of Veterinary Medicine","Faculty of Islamic Studies","Faculty of Sports Science","Faculty of Creative Technology","Faculty of Music","Faculty of Architecture & Design","Faculty of Hotel & Tourism Management","Faculty of Health Sciences","Faculty of Defence Studies & Management"],J=["Universiti Malaysia Pahang","Universiti Malaysia Sabah","Universiti Malaysia Terengganu","Universiti Kebangsaan Malaysia","Universiti Malaya","Universiti Sains Malaysia","Universiti Putra Malaysia","Universiti Teknologi Malaysia","Universiti Utara Malaysia","Universiti Islam Antarabangsa Malaysia","Universiti Pendidikan Sultan Idris","Universiti Sains Islam Malaysia","Universiti Teknologi MARA","Universiti Malaysia Sarawak","Universiti Teknikal Malaysia Melaka","Universiti Malaysia Perlis","Universiti Tun Hussein Onn Malaysia","Universiti Sultan Zainal Abidin","Universiti Pertahanan Nasional Malaysia","Universiti Malaysia Kelantan"];function ee({user:t,viewOnly:l=!1,showFriendButton:o=!1,friendStatus:a,friendRequestId:m,showMentorButton:y=!1,mentorStatus:c,mentorRequestId:b,auth:d}){var N,w,F,k,M,S,U,C,E,I,q,P,_,R,T,z,A,L,D;const[x,h]=p.useState(!1),{data:s,setData:r,patch:v,processing:f,errors:n}=B({faculty:((N=t==null?void 0:t.lecturer)==null?void 0:N.faculty)||"",university:((w=t==null?void 0:t.lecturer)==null?void 0:w.university)||"",specialization:((F=t==null?void 0:t.lecturer)==null?void 0:F.specialization)||"",contact_number:((k=t==null?void 0:t.lecturer)==null?void 0:k.contact_number)||"",bio:((M=t==null?void 0:t.lecturer)==null?void 0:M.bio)||"",linkedin:((S=t==null?void 0:t.lecturer)==null?void 0:S.linkedin)||""}),H=i=>{i.preventDefault(),v(route("profile.update"),{preserveScroll:!0,onSuccess:()=>{h(!1)},onError:K=>{console.error("Submission errors:",K)}})};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[e.jsx("div",{className:"bg-[#1e1b4b]/50 rounded-xl p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col items-center md:flex-row md:items-start gap-6 md:gap-8",children:[e.jsxs("div",{className:"flex flex-col items-center flex-shrink-0",children:[l?e.jsx(Y,{profilePhotoPath:(U=t==null?void 0:t.lecturer)==null?void 0:U.profile_photo_path,className:"w-full h-full object-cover"}):e.jsx(V,{user:t}),o&&e.jsx("div",{className:"mt-4",children:e.jsx(Q,{userId:t.id,friendStatus:a,friendRequestId:m})}),y&&e.jsx("div",{className:"mt-4",children:e.jsx(Z,{lecturerId:t.id,mentorStatus:c,mentorRequestId:b})})]}),e.jsxs("div",{className:"flex-1 text-center md:text-left",children:[e.jsxs("div",{className:"mb-4 md:mb-6",children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-white mb-2",children:(t==null?void 0:t.name)||"User"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-400",children:(t==null?void 0:t.email)||"No email provided"}),((C=t==null?void 0:t.lecturer)==null?void 0:C.bio)&&e.jsx("p",{className:"text-sm sm:text-base text-gray-300 mt-3",children:t.lecturer.bio})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 sm:gap-6 max-w-lg mx-auto md:mx-0",children:[e.jsx(g,{icon:"school",label:"Faculty",value:(E=t==null?void 0:t.lecturer)==null?void 0:E.faculty}),e.jsx(g,{icon:"domain",label:"University",value:(I=t==null?void 0:t.lecturer)==null?void 0:I.university}),e.jsx(g,{icon:"psychology",label:"Specialization",value:(q=t==null?void 0:t.lecturer)==null?void 0:q.specialization}),e.jsx(g,{icon:"phone",label:"Contact",value:(P=t==null?void 0:t.lecturer)==null?void 0:P.contact_number}),e.jsx(g,{icon:"link",label:"LinkedIn",value:(_=t==null?void 0:t.lecturer)==null?void 0:_.linkedin,isLink:!0})]})]})]})}),e.jsxs("div",{className:"mt-6 sm:mt-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6 px-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-[#635985]",children:"info"}),e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white",children:"Detailed Information"})]}),!l&&e.jsx("button",{onClick:()=>h(!x),className:"p-2 hover:bg-[#635985]/20 rounded-lg transition-colors",children:e.jsx("span",{className:"material-symbols-outlined text-[#635985]",children:"edit"})})]}),x&&!l?e.jsxs("form",{onSubmit:H,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(u,{label:"University",type:"select",value:s.university,onChange:i=>r("university",i.target.value),error:n.university,options:J,className:"bg-white/5 border-white/10 text-white"}),e.jsx(u,{label:"Faculty",type:"select",value:s.faculty,onChange:i=>r("faculty",i.target.value),error:n.faculty,options:G,className:"bg-white/5 border-white/10 text-white"}),e.jsx(u,{label:"Specialization",value:s.specialization,onChange:i=>r("specialization",i.target.value),error:n.specialization,className:"bg-white/5 border-white/10 text-white"}),e.jsx(u,{label:"Contact Number",type:"tel",value:s.contact_number,onChange:i=>r("contact_number",i.target.value),error:n.contact_number,className:"bg-white/5 border-white/10 text-white"}),e.jsx(u,{label:"LinkedIn",type:"url",value:s.linkedin,onChange:i=>r("linkedin",i.target.value),error:n.linkedin,className:"bg-white/5 border-white/10 text-white",placeholder:"https://linkedin.com/in/username"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Bio"}),e.jsx("textarea",{rows:4,value:s.bio,onChange:i=>r("bio",i.target.value),className:`w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-xl 
                                    text-white placeholder-gray-500 focus:border-[#635985] focus:ring-1 
                                    focus:ring-[#635985] transition-colors duration-200`}),n.bio&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.bio})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-6 py-2.5 text-white/70 hover:text-white",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:f,className:`px-6 py-2.5 bg-[#635985] text-white rounded-xl 
                                    hover:bg-[#635985]/80 transform transition-all duration-200 
                                    hover:scale-105 disabled:opacity-75 flex items-center gap-2`,children:f?"Saving...":"Save Changes"})]})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(j,{icon:"school",title:"Academic Information",items:[{label:"University",value:(R=t==null?void 0:t.lecturer)==null?void 0:R.university},{label:"Faculty",value:(T=t==null?void 0:t.lecturer)==null?void 0:T.faculty},{label:"Specialization",value:(z=t==null?void 0:t.lecturer)==null?void 0:z.specialization}]}),e.jsx(j,{icon:"contact_page",title:"Contact Information",items:[{label:"Email",value:t==null?void 0:t.email},{label:"Phone",value:(A=t==null?void 0:t.lecturer)==null?void 0:A.contact_number}]}),e.jsx(j,{icon:"person",title:"Professional Details",items:[{label:"LinkedIn",value:(L=t==null?void 0:t.lecturer)==null?void 0:L.linkedin,isLink:!0},{label:"Bio",value:(D=t==null?void 0:t.lecturer)==null?void 0:D.bio}]})]})]})]})}function g({icon:t,label:l,value:o,isLink:a}){return e.jsxs("div",{className:"text-center md:text-left",children:[e.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-1",children:[e.jsx("span",{className:"material-symbols-outlined text-[#635985]",children:t}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-400",children:l})]}),a&&o?e.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"text-sm sm:text-base text-[#635985] hover:text-[#635985]/80",children:o}):e.jsx("p",{className:"text-sm sm:text-base text-white",children:o||"Not set"})]})}function j({icon:t,title:l,items:o}){return e.jsxs("div",{className:"bg-[#1e1b4b]/30 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("span",{className:"material-symbols-outlined text-[#635985]",children:t}),e.jsx("h3",{className:"text-lg font-medium text-white",children:l})]}),e.jsx("div",{className:"space-y-4",children:o.map((a,m)=>e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:a.label}),a.isLink&&a.value?e.jsx("a",{href:a.value,target:"_blank",rel:"noopener noreferrer",className:"text-[#635985] hover:text-[#635985]/80",children:a.value}):e.jsx("p",{className:"text-white",children:a.value||"Not set"})]},m))})]})}export{ee as L};
