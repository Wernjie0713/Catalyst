import{j as e}from"./index-D3Bj6weo.js";import{m as u,L as p}from"./index.esm-CYkcvaz4.js";import{A as j}from"./AuthenticatedLayout-DgmrdonU.js";import{I as f}from"./InputError-DflrxOlj.js";import{P as b}from"./PrimaryButton-D4gZOhu_.js";import"./en-US-DNUEYIb-.js";function N({auth:c,role:i,abilities:l=[],roleAbilities:t=[]}){console.log("Role:",i),console.log("All Abilities:",l),console.log("Current Role Abilities:",t);const{data:a,setData:x,put:m,processing:o,errors:d}=u({abilities:t}),h=s=>{s.preventDefault(),m(route("admin.roles.update",i.id))},g=s=>{const r=a.abilities.includes(s)?a.abilities.filter(n=>n!==s):[...a.abilities,s];x("abilities",r)};return e.jsxs(j,{user:c.user,children:[e.jsx(p,{title:`Edit Role - ${i.title}`}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-100 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:"Edit Role"}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-600 text-lg mb-4",children:[e.jsx("span",{children:"Modifying permissions for"}),e.jsx("span",{className:"font-semibold text-orange-600 bg-orange-50 px-3 py-1 rounded-full",children:i.title})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border border-orange-200 max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Currently Assigned:"}),e.jsxs("span",{className:"text-sm font-bold text-orange-600",children:[t.length," abilities"]})]}),t.length>0&&e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:t.map((s,r)=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:s},r))})]})]})}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden border border-white",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 px-8 py-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Role Permissions"})]})})}),e.jsx("div",{className:"p-8",children:e.jsxs("form",{onSubmit:h,children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l&&l.length>0?l.map(s=>{const r=t.includes(s.name),n=a.abilities.includes(s.name);return e.jsxs("div",{className:`bg-white rounded-xl p-4 border transition-all duration-200 ${r?"border-orange-300 bg-orange-50":"border-gray-100 hover:border-orange-300"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:`ability-${s.id}`,checked:n,onChange:()=>g(s.name),className:"w-5 h-5 rounded border-orange-300 text-orange-600 shadow-sm focus:border-orange-300 focus:ring focus:ring-orange-200 focus:ring-opacity-50 transition-all duration-200"}),e.jsx("label",{htmlFor:`ability-${s.id}`,className:`text-sm font-medium cursor-pointer transition-colors duration-200 ${r?"text-orange-700":"text-gray-700 hover:text-orange-600"}`,children:s.title})]}),e.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[r&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),e.jsx("span",{className:"text-xs text-orange-600 font-medium",children:"Currently Assigned"})]}),n&&!r&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),e.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Will Be Added"})]}),!n&&r&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full"}),e.jsx("span",{className:"text-xs text-red-600 font-medium",children:"Will Be Removed"})]})]})]},s.id)}):e.jsx("div",{className:"col-span-full text-center py-8",children:e.jsxs("div",{className:"text-gray-500",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ðŸ”’"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Abilities Found"}),e.jsx("p",{className:"text-gray-600",children:"There are no abilities available to assign to this role."})]})})})}),d.abilities&&e.jsx("div",{className:"mb-6",children:e.jsx(f,{message:d.abilities,className:"mt-2"})}),e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-orange-200",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:a.abilities.length})," permissions selected"]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:route("admin.roles.index"),className:"px-6 py-3 bg-gray-100 text-gray-700 font-medium rounded-xl hover:bg-gray-200 transition-all duration-200",children:"Cancel"}),e.jsx(b,{disabled:o,className:"px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 border-orange-500 text-white font-medium rounded-xl transform hover:scale-105 transition-all duration-200 shadow-lg",children:o?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Update Role"]})})]})]})]})})]})]})})]})}const _=Object.freeze(Object.defineProperty({__proto__:null,default:N},Symbol.toStringTag,{value:"Module"}));export{_};
