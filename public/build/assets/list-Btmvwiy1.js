import{j as e,r as l}from"./index-D3Bj6weo.js";import{S,a as T,$ as Te,L as _e}from"./index.esm-CYkcvaz4.js";import{A as ke}from"./AuthenticatedLayout-DgmrdonU.js";import{D as de}from"./DisplayProfilePhoto-DFIzBEor.js";import{m as i}from"./proxy-CrpZcEeN.js";import{z as F}from"./transition-dgGWWUwo.js";import{y as M}from"./dialog-Db2lgBmZ.js";import{A as P}from"./index-Dh0BU1j3.js";import{a as Fe}from"./index-CfYVbadh.js";import{M as qe}from"./Modal-BIwpINXw.js";import"./en-US-DNUEYIb-.js";function X({friend:s,otherUser:n,photoPath:a,isRequestReceiver:p,onAccept:m,onReject:c,compact:d=!1,isLoading:o}){const f=()=>{S.visit(route("profile.view",{user:n.id}))};return e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:f,className:`relative group ${d?"p-3":"p-6"} bg-white rounded-xl border border-orange-200 hover:border-orange-300 transition-all duration-300 cursor-pointer shadow-lg hover:shadow-xl`,children:[e.jsx("div",{className:"absolute inset-0 bg-orange-50 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl "}),e.jsxs("div",{className:`relative flex flex-col items-center space-y-4 ${d?"gap-3":"gap-4"}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -inset-2 bg-gradient-to-br from-orange-200 to-orange-300 rounded-full blur-md opacity-0 group-hover:opacity-100 transition-opacity duration-300 "}),e.jsx("div",{className:"relative w-24 h-24 rounded-full overflow-hidden ",children:e.jsx(de,{profilePhotoPath:a,className:"w-full h-full object-cover"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:`text-lg font-medium text-gray-800 group-hover:text-orange-600 transition-colors duration-300 truncate max-w-[200px] ${d?"text-sm":""}`,children:n==null?void 0:n.name}),e.jsx("p",{className:"text-sm text-gray-600 group-hover:text-gray-700 transition-colors duration-300 ",children:n==null?void 0:n.email})]}),s.status==="pending"&&p&&e.jsxs("div",{className:"flex justify-center space-x-2",onClick:x=>x.stopPropagation(),children:[e.jsxs(i.button,{whileHover:o?{}:{scale:1.05},whileTap:o?{}:{scale:.95},onClick:()=>!o&&m(s.id),disabled:o,className:`px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-xl text-sm border border-orange-500 transition-all duration-200 flex items-center space-x-2 shadow-lg ${o==="accepting"?"opacity-75 cursor-not-allowed":""} `,children:[o==="accepting"&&e.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Accept"})]}),e.jsxs(i.button,{whileHover:o?{}:{scale:1.05},whileTap:o?{}:{scale:.95},onClick:()=>!o&&c(s.id),disabled:o,className:`px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl text-sm border border-red-500 transition-all duration-200 flex items-center space-x-2 shadow-lg ${o==="rejecting"?"opacity-75 cursor-not-allowed":""} `,children:[o==="rejecting"&&e.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Reject"})]})]})]})]})}function Me({activeTab:s,onTabChange:n,userRelations:a}){const p=a==null?void 0:a.isStudent;return e.jsxs("div",{className:"flex space-x-4 mb-6 justify-center",children:[e.jsx("button",{onClick:()=>n("all"),className:`px-4 py-2 rounded-lg transition-all duration-200 ${s==="all"?"bg-orange-500 text-white border border-orange-500 shadow-lg":"text-gray-600 hover:text-orange-600 hover:bg-orange-50"}`,children:"All Friends"}),p&&e.jsx("button",{onClick:()=>n("mentors"),className:`px-4 py-2 rounded-lg transition-all duration-200 ${s==="mentors"?"bg-orange-500 text-white border border-orange-500 shadow-lg":"text-gray-600 hover:text-orange-600 hover:bg-orange-50"}`,children:"Find Mentors"}),e.jsx("button",{onClick:()=>n("teams"),className:`px-4 py-2 rounded-lg transition-all duration-200 ${s==="teams"?"bg-orange-500 text-white border border-orange-500 shadow-lg":"text-gray-600 hover:text-orange-600 hover:bg-orange-50"}`,children:"Teams"})]})}function J({icon:s="group",message:n,description:a}){return e.jsx("div",{className:"bg-white border border-orange-200 rounded-xl p-6 text-center shadow-lg",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("span",{className:"material-symbols-outlined text-4xl text-orange-500 mb-2",children:s}),e.jsx("p",{className:"text-gray-700 font-medium",children:n}),a&&e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:a})]})})}function K({value:s,onChange:n,placeholder:a="Search friends by name..."}){return e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500",children:e.jsx("span",{className:"material-symbols-outlined text-lg",children:"search"})}),e.jsx("input",{type:"text",value:s,onChange:p=>n(p.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-orange-200 rounded-lg text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-orange-200 focus:border-orange-500 shadow-sm",placeholder:a})]})})}function Re({isOpen:s,onClose:n,friends:a,onTeamCreated:p,auth:m}){const[c,d]=l.useState(""),[o,f]=l.useState([]),[x,g]=l.useState({}),[h,y]=l.useState(!1),w=async u=>{var j,b;u.preventDefault(),g({}),y(!0);try{const C=await T.post(route("teams.store"),{name:c,members:o});C.data.success&&(p(C.data.team),d(""),f([]),n())}catch(C){g(((b=(j=C.response)==null?void 0:j.data)==null?void 0:b.errors)||{general:"Failed to create team"})}finally{y(!1)}};return e.jsx(F,{appear:!0,show:s,as:l.Fragment,children:e.jsxs(M,{as:"div",className:"relative z-50",onClose:n,children:[e.jsx(F.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsx(F.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(M.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all border border-orange-200",children:[e.jsx(M.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-800 mb-4",children:"Create a New Team"}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"teamName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Team Name"}),e.jsx("input",{type:"text",id:"teamName",value:c,onChange:u=>d(u.target.value),className:"w-full px-3 py-2 bg-white border border-orange-200 rounded-lg text-gray-800 focus:ring-2 focus:ring-orange-200 focus:border-orange-500",placeholder:"Enter team name"}),x.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Members"}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2 custom-scrollbar",children:a.map(u=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-orange-50 rounded-lg border border-orange-100",children:[e.jsx("input",{type:"checkbox",id:`friend-${u.id}`,value:u.id,checked:o.includes(u.id),onChange:j=>{j.target.checked?f([...o,u.id]):f(o.filter(b=>b!==u.id))},className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500 bg-white"}),e.jsx("label",{htmlFor:`friend-${u.id}`,className:"text-gray-800",children:u.name})]},u.id))}),x.friends&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.friends})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 text-sm hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:h||!c||o.length===0,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white text-sm transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:h?"Creating...":"Create Team"})]})]})]})})})})]})})}function Ae({team:s,status:n,isInvited:a,onAccept:p,onReject:m,onClick:c}){var d;return s?e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative group",children:e.jsxs("div",{className:"relative p-6 bg-white rounded-2xl border border-orange-200 hover:border-orange-300 transition-all duration-300 shadow-lg hover:shadow-xl",children:[e.jsx("div",{className:"absolute inset-0 bg-orange-50 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl"}),e.jsxs("div",{className:"relative flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -inset-2 bg-gradient-to-br from-orange-200 to-orange-300 rounded-full blur-md opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:"w-20 h-20 rounded-full bg-orange-100 flex items-center justify-center",children:e.jsx("span",{className:"material-symbols-outlined text-3xl text-orange-600",children:"group"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 group-hover:text-orange-600 transition-colors duration-300",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-600 group-hover:text-gray-700 transition-colors duration-300",children:["Created by: ",(d=s.creator)==null?void 0:d.name]}),e.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Members: ",s.member_count]})]}),n==="pending"&&a?e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("button",{onClick:p,className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-lg shadow-md transition-all duration-200",children:"Accept"}),e.jsx("button",{onClick:m,className:"px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-lg shadow-md transition-all duration-200",children:"Reject"})]}):e.jsx("button",{onClick:c,className:"w-full px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-lg shadow-md transition-all duration-200",children:"View Details"})]})]})}):null}function Ie({isOpen:s,onClose:n,team:a,onDelete:p,onRemoveMember:m,onAddMember:c,auth:d}){if(!a)return null;const o=a.members.filter(x=>x.status==="accepted"&&x.user_id!==a.creator_id),f=o.length+1;return e.jsx(F,{appear:!0,show:s,as:l.Fragment,children:e.jsxs(M,{as:"div",className:"relative z-50",onClose:n,children:[e.jsx(F.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsx(F.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(M.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all border border-orange-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Team Details"}),(a==null?void 0:a.creator_id)===d.user.id&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>c(a),className:"text-orange-600 hover:text-orange-700 transition-colors",title:"Add Member",children:e.jsx("span",{className:"material-symbols-outlined",children:"person_add"})}),e.jsx("button",{onClick:()=>p(a.id),className:"text-red-600 hover:text-red-700 transition-colors",title:"Delete Team",children:e.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Team Name"}),e.jsx("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-200",children:e.jsx("p",{className:"text-lg text-gray-800 font-medium",children:a.name})}),e.jsxs("div",{className:"mt-2 text-sm text-gray-600 flex items-center",children:[e.jsx("span",{className:"material-symbols-outlined text-sm mr-1 text-orange-600",children:"group"}),"Total Members: ",f]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Team Leader"}),e.jsx("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-200",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"material-symbols-outlined text-orange-600",children:"star"}),e.jsx("p",{className:"text-gray-800",children:a.creator.name})]})})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Team Members (",o.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2 custom-scrollbar",children:o.map(x=>{var g;return e.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-200 flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-800",children:x.user.name}),a.creator_id===((g=d==null?void 0:d.user)==null?void 0:g.id)&&x.user_id!==a.creator_id&&e.jsx("button",{onClick:()=>{confirm("Are you sure you want to remove this member from the team?")&&m(a.id,x.user_id)},className:"text-red-600 hover:text-red-700 transition-colors",children:e.jsx("span",{className:"material-symbols-outlined text-sm",children:"remove_circle"})})]},x.id)})})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{type:"button",className:"px-4 py-2 rounded-lg bg-orange-100 hover:bg-orange-200 text-orange-700 text-sm font-medium transition-colors duration-200 border border-orange-200",onClick:n,children:"Close"})})]})})})})]})})}function Ee({invitation:s,onAccept:n,onReject:a,compact:p=!1,isLoading:m}){return e.jsx("div",{className:"bg-white rounded-xl p-6 border border-orange-200 shadow-lg hover:shadow-xl transition-all duration-200",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-orange-100 flex items-center justify-center mb-4",children:e.jsx("span",{className:"material-symbols-outlined text-3xl text-orange-600",children:"group"})}),e.jsx("h3",{className:"text-xl font-medium text-gray-800 mb-1",children:s.team.name}),e.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:["Created by: ",s.team.creator.name]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs(i.button,{whileHover:m?{}:{scale:1.02},whileTap:m?{}:{scale:.98},onClick:()=>!m&&n&&n(),disabled:m,className:`px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-lg transition-colors duration-200 flex items-center space-x-2 shadow-md ${m==="accepting"?"opacity-75 cursor-not-allowed":""}`,children:[m==="accepting"&&e.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Accept"})]}),e.jsxs(i.button,{whileHover:m?{}:{scale:1.02},whileTap:m?{}:{scale:.98},onClick:()=>!m&&a&&a(),disabled:m,className:`px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-lg transition-colors duration-200 flex items-center space-x-2 shadow-md ${m==="rejecting"?"opacity-75 cursor-not-allowed":""}`,children:[m==="rejecting"&&e.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Reject"})]})]})]})})}function ze({isOpen:s,onClose:n,friendRequests:a,onAccept:p,onReject:m,getOtherUser:c,getProfilePhotoPath:d,isRequestReceiver:o,auth:f}){const x=l.useRef(null);return l.useEffect(()=>{const g=h=>{x.current&&!x.current.contains(h.target)&&n()};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[n]),e.jsx(P,{children:s&&e.jsx(i.div,{ref:x,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute right-0 mt-2 w-96 bg-white rounded-xl shadow-xl border border-orange-200 z-[9999]",style:{zIndex:9999},children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Incoming Friend Requests"}),e.jsxs("span",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded-full text-xs",children:[a.length," pending"]})]}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:a.length>0?a.map(g=>e.jsx(X,{friend:g,otherUser:c(g),photoPath:d(c(g)),isRequestReceiver:o(g),onAccept:p,onReject:m,compact:!0},`friend-${g.id}`)):e.jsxs("div",{className:"text-center py-6",children:[e.jsx("span",{className:"material-symbols-outlined text-4xl text-orange-500 mb-2",children:"person_off"}),e.jsx("p",{className:"text-gray-700",children:"No friend requests yet"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"When someone adds you, their request will appear here"})]})})]})})})}function $e({isOpen:s,onClose:n,pendingInvitations:a,onAccept:p,onReject:m,buttonRef:c,loadingStates:d={}}){const o=l.useRef(null),[f,x]=l.useState({top:0,right:0});l.useEffect(()=>{if(s&&(c!=null&&c.current)){const h=c.current.getBoundingClientRect();x({top:h.bottom+8,right:window.innerWidth-h.right})}},[s,c]),l.useEffect(()=>{const h=y=>{o.current&&!o.current.contains(y.target)&&n()};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[n]);const g=e.jsx(P,{children:s&&e.jsx(i.div,{ref:o,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed w-96 bg-white rounded-xl shadow-xl border border-orange-200 z-[9999]",style:{top:f.top,right:f.right,zIndex:9999},children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Team Invitations"}),e.jsxs("span",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded-full text-xs",children:[a.length," pending"]})]}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:a.length>0?a.map(h=>e.jsx(Ee,{invitation:h,onAccept:()=>p(h.team_id),onReject:()=>m(h.team_id),compact:!0,isLoading:d[h.team_id]},h.id)):e.jsxs("div",{className:"text-center py-6",children:[e.jsx("span",{className:"material-symbols-outlined text-4xl text-orange-500 mb-2",children:"groups"}),e.jsx("p",{className:"text-gray-700",children:"No team invitations"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"When someone invites you to a team, it will appear here"})]})})]})})});return typeof document<"u"?Fe.createPortal(g,document.body):null}function Pe({isOpen:s,onClose:n,team:a,onSuccess:p}){const[m,c]=l.useState([]),[d,o]=l.useState(""),[f,x]=l.useState(!1),[g,h]=l.useState("");l.useEffect(()=>{s&&a&&y()},[s,a]);const y=async()=>{var u,j;try{const b=await T.get(route("teams.available-friends",a.id));Array.isArray(b.data)&&b.data.length===0?h("No available friends found. They might all be in the team already."):Array.isArray(b.data)?(c(b.data),h("")):h("Invalid response format from server")}catch(b){h(((j=(u=b.response)==null?void 0:u.data)==null?void 0:j.message)||"Failed to load available friends"),c([])}},w=async u=>{var j,b;if(u.preventDefault(),!!d){x(!0),h("");try{await T.post(route("teams.add-member"),{team_id:a.id,user_id:d}),p()}catch(C){console.error("Error adding member:",C),h(((b=(j=C.response)==null?void 0:j.data)==null?void 0:b.message)||"Failed to add member")}finally{x(!1)}}};return e.jsx(qe,{show:s,onClose:n,maxWidth:"sm",children:e.jsx("div",{className:"bg-white rounded-lg border border-orange-200",children:e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Add to Team"})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Team Name"}),e.jsx("div",{className:"bg-orange-50 p-2.5 rounded-md border border-orange-200",children:e.jsx("p",{className:"text-gray-800",children:a==null?void 0:a.name})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Select Friend"}),e.jsx("div",{className:"relative",children:e.jsxs("select",{value:d,onChange:u=>o(u.target.value),className:"w-full bg-white text-gray-800 p-2.5 rounded-md border border-orange-200 focus:border-orange-500 focus:ring-0",required:!0,children:[e.jsx("option",{value:"",className:"bg-white",children:"Choose a friend"}),m.map(u=>e.jsx("option",{value:u.id,className:"bg-white",children:u.name},u.id))]})})]}),g&&e.jsx("div",{className:"mb-4 text-sm text-red-600 bg-red-50 p-2 rounded-md border border-red-200",children:g}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[e.jsx(i.button,{type:"button",onClick:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:"Close"}),e.jsx(i.button,{onClick:w,disabled:f||!d,whileHover:{scale:1.02},whileTap:{scale:.98},className:`px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-md transition-colors shadow-md ${f||!d?"opacity-50 cursor-not-allowed":""}`,children:f?"Adding...":"Add to Team"})]})]})})})}function He({lecturer:s,onRequestMentor:n}){const a=c=>{switch(c){case"pending":return"bg-yellow-100 text-yellow-800";case"accepted":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},p=c=>{switch(c){case"pending":return"Request Pending";case"accepted":return"Your Mentor";case"rejected":return"Request Rejected";default:return"Request Mentor"}},m=!s.request_status||s.request_status==="rejected";return e.jsxs(i.div,{className:"bg-white rounded-xl p-6 border border-orange-200 hover:border-orange-300 transition-all duration-300 h-full flex flex-col shadow-lg hover:shadow-xl",whileHover:{y:-2},layout:!0,children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"relative",children:s.profile_photo_path?e.jsx("img",{src:`/storage/${s.profile_photo_path}`,alt:s.name,className:"w-12 h-12 rounded-full object-cover border-2 border-orange-200"}):e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium text-lg",children:s.name.charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-gray-800 font-semibold text-lg",children:s.name}),e.jsx("p",{className:"text-gray-600 text-sm",children:s.email})]})]}),e.jsxs("div",{className:"space-y-2 mb-4 flex-1",children:[e.jsxs("div",{className:"flex items-center text-sm min-h-[20px]",children:[e.jsx("span",{className:"material-symbols-outlined text-orange-500 mr-2 text-lg",children:"domain"}),e.jsx("span",{className:"text-gray-700 truncate",children:s.department})]}),e.jsxs("div",{className:"flex items-center text-sm min-h-[20px]",children:[e.jsx("span",{className:"material-symbols-outlined text-orange-500 mr-2 text-lg",children:"psychology"}),e.jsx("span",{className:"text-gray-700 truncate",children:s.specialization})]}),e.jsxs("div",{className:"flex items-center text-sm min-h-[20px]",children:[e.jsx("span",{className:"material-symbols-outlined text-orange-500 mr-2 text-lg",children:"school"}),e.jsx("span",{className:"text-gray-700 truncate",children:s.university})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[s.request_status&&e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${a(s.request_status)}`,children:p(s.request_status)}),m&&e.jsxs(i.button,{onClick:()=>n(s),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-lg text-sm border border-orange-500 transition-all duration-200 flex items-center space-x-2 shadow-md",children:[e.jsx("span",{className:"material-symbols-outlined text-sm",children:"person_add"}),e.jsx("span",{children:"Request Mentor"})]})]})]})}function Oe({isOpen:s,onClose:n,lecturer:a,onSubmit:p}){const[m,c]=l.useState(""),[d,o]=l.useState(!1),f=async h=>{h.preventDefault(),o(!0);try{await p(m),c("")}catch(y){console.error("Error submitting mentor request:",y)}finally{o(!1)}},x={hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}},g={hidden:{scale:.95,opacity:0},visible:{scale:1,opacity:1,transition:{type:"spring",stiffness:300,damping:30}},exit:{scale:.95,opacity:0,transition:{duration:.2}}};return a?e.jsx(P,{children:s&&e.jsxs(i.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4",variants:x,initial:"hidden",animate:"visible",exit:"exit",children:[e.jsx(i.div,{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n}),e.jsxs(i.div,{className:"relative bg-white rounded-2xl p-6 w-full max-w-lg border border-orange-200 shadow-2xl",variants:g,initial:"hidden",animate:"visible",exit:"exit",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Request Mentorship"}),e.jsx(i.button,{onClick:n,whileHover:{scale:1.1},whileTap:{scale:.9},className:"text-gray-400 hover:text-orange-600 transition-colors",children:e.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-6 p-4 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("div",{className:"relative",children:a.profile_photo_path?e.jsx("img",{src:`/storage/${a.profile_photo_path}`,alt:a.name,className:"w-16 h-16 rounded-full object-cover border-2 border-orange-200"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium text-xl",children:a.name.charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-gray-800 font-semibold text-lg",children:a.name}),e.jsx("p",{className:"text-gray-600 text-sm",children:a.department}),e.jsx("p",{className:"text-gray-600 text-sm",children:a.specialization})]})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Message (Optional)"}),e.jsx("textarea",{value:m,onChange:h=>c(h.target.value),placeholder:"Tell the lecturer why you'd like them as your mentor...",className:"w-full px-4 py-3 bg-white border border-orange-200 rounded-lg text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-orange-200 focus:border-orange-500 transition-all duration-200 resize-none",rows:"4",maxLength:"500"}),e.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:[m.length,"/500 characters"]})]}),e.jsxs("div",{className:"flex space-x-3 pt-2",children:[e.jsx(i.button,{type:"button",onClick:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-all duration-200 border border-gray-200",children:"Cancel"}),e.jsx(i.button,{type:"submit",disabled:d,whileHover:{scale:d?1:1.02},whileTap:{scale:d?1:.98},className:"flex-1 px-4 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 shadow-lg",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),e.jsx("span",{children:"Sending..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-symbols-outlined text-sm",children:"send"}),e.jsx("span",{children:"Send Request"})]})})]})]})]})]})}):null}const De=({user:s,index:n})=>e.jsx(i.div,{style:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2+n*.1},children:e.jsx(Te,{href:route("profile.view",s.id),className:"group relative block h-[220px]",children:e.jsxs("div",{className:"relative h-full rounded-3xl border border-orange-100 bg-white shadow-[0_8px_30px_rgba(243,112,34,0.06)] overflow-hidden transition-all duration-300 hover:shadow-[0_12px_36px_rgba(243,112,34,0.12)]",children:[e.jsxs("div",{className:"relative h-[110px] bg-gradient-to-br from-orange-100 to-white",children:[e.jsx("div",{className:"absolute inset-0 opacity-30 pointer-events-none bg-[radial-gradient(circle_at_30%_30%,rgba(243,112,34,.15),transparent_40%)]"}),e.jsx("div",{className:"absolute left-6 top-1/2 -translate-y-1/2",children:e.jsx("div",{className:"transform-gpu transition-transform duration-500 ease-out group-hover:scale-110 group-hover:-translate-y-0.5",children:e.jsx(de,{profilePhotoPath:s.profile_picture,size:84,simple:!0,className:"ring-2 ring-orange-200 shadow-md"})})})]}),e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-gray-900 truncate",children:s.name}),e.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 text-[#F37022]",children:[e.jsx("span",{className:"material-symbols-outlined text-base",children:"person"}),e.jsxs("span",{className:"font-medium relative",children:["View Profile",e.jsx("span",{className:"absolute left-0 -bottom-0.5 w-0 group-hover:w-full h-[2px] bg-[#F37022] transition-all duration-300"})]}),e.jsx("span",{className:"material-symbols-outlined text-base translate-x-0 group-hover:translate-x-1 transition-transform duration-300",children:"arrow_forward"})]})]}),e.jsx("div",{className:"shrink-0",children:e.jsx("span",{className:"inline-flex items-center justify-center w-9 h-9 rounded-full bg-[#F37022]/10 text-[#F37022] group-hover:bg-[#F37022]/15 transition-colors",children:e.jsx("span",{className:"material-symbols-outlined",children:"add"})})})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-[#F37022]/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})})});function Ve({auth:s,friends:n=[],teams:a=[],pendingInvitations:p=[],can:m,userRelations:c,friendSuggestions:d=[]}){const[o,f]=l.useState(()=>{const t=new URL(window.location.href).searchParams.get("tab")||"all";return!m.team_grouping&&t==="teams"?"all":t}),[x,g]=l.useState(""),[h,y]=l.useState(!1),[w,u]=l.useState(a),[j,b]=l.useState(null),[C,q]=l.useState(!1),[Z,U]=l.useState(!1),[ee,R]=l.useState(!1),te=l.useRef(null),[H,ce]=l.useState([]),[se,O]=l.useState(!1),[me,D]=l.useState(null),[ae,xe]=l.useState([]),[re,V]=l.useState(!1),[A,L]=l.useState(null),[ne,N]=l.useState({friendRequests:{},teamInvitations:{},mentorRequests:{},supervisorRequests:{}}),he={initial:{opacity:0},animate:{opacity:1,transition:{duration:.5,when:"beforeChildren",staggerChildren:.1}}},I={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}}},E={hidden:{opacity:0,y:20},visible:t=>({opacity:1,y:0,transition:{delay:t*.05,duration:.4,ease:"easeOut"}}),hover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.2)",transition:{duration:.2}}},ie={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95,transition:{duration:.1}}},z={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.4,ease:[.25,.1,.25,1],when:"beforeChildren"}}},$={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1,transition:{delay:.1,duration:.4,type:"spring",stiffness:100}}};l.useEffect(()=>{o==="teams"&&m.team_grouping&&w.length===0&&_()},[o]);const _=async()=>{try{const t=await T.get(route("teams.index"));u(t.data.teams),ce(t.data.pendingInvitations)}catch(t){console.error("Error fetching teams:",t)}},ue=t=>{u(r=>[...r,t]),y(!1)},W=t=>{N(r=>({...r,friendRequests:{...r.friendRequests,[t]:"accepting"}})),S.post(route("friend.accept",t),{},{preserveScroll:!0,onFinish:()=>{N(r=>({...r,friendRequests:{...r.friendRequests,[t]:null}}))}})},B=t=>{N(r=>({...r,friendRequests:{...r.friendRequests,[t]:"rejecting"}})),S.post(route("friend.reject",t),{},{preserveScroll:!0,onFinish:()=>{N(r=>({...r,friendRequests:{...r.friendRequests,[t]:null}}))}})},oe=n.filter(t=>o==="all"?!0:o==="pending"?t.status==="pending":o==="teams"?t.status==="accepted":!0),Y=t=>t.friend_id===s.user.id,k=t=>t.user_id===s.user.id?t.friend:t.user,Q=t=>t?t.student?t.student.profile_photo_path:t.lecturer?t.lecturer.profile_photo_path:t.department_staff?t.department_staff.profile_photo_path:t.organizer?t.organizer.profile_photo_path:null:null,ge=n.filter(t=>t.status==="accepted").map(t=>{const r=k(t);return{id:r.id,name:r.name,email:r.email}});[...n.filter(t=>t.status==="pending"),...w.filter(t=>t.members.some(r=>r.user_id===s.user.id&&r.status==="pending"))];const pe=t=>{b(t),q(!0)},fe=async t=>{try{await T.delete(route("teams.destroy",t)),q(!1),S.visit(route("friends.list",{tab:"teams"}),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_()}})}catch(r){console.error("Error deleting team:",r),alert("Failed to delete team")}},G=n.filter(t=>t.status==="pending"&&t.friend_id===s.user.id),be=async t=>{N(r=>({...r,teamInvitations:{...r.teamInvitations,[t]:"accepting"}}));try{await T.post(route("teams.accept-invitation",t)),R(!1),S.visit(route("friends.list",{tab:"teams"}),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_()},onFinish:()=>{N(r=>({...r,teamInvitations:{...r.teamInvitations,[t]:null}}))}})}catch(r){console.error("Error accepting team invitation:",r),N(v=>({...v,teamInvitations:{...v.teamInvitations,[t]:null}}))}},ve=async t=>{N(r=>({...r,teamInvitations:{...r.teamInvitations,[t]:"rejecting"}}));try{await T.post(route("teams.reject-invitation",t)),R(!1),S.visit(route("friends.list",{tab:"teams"}),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_()},onFinish:()=>{N(r=>({...r,teamInvitations:{...r.teamInvitations,[t]:null}}))}})}catch(r){console.error("Error rejecting team invitation:",r),N(v=>({...v,teamInvitations:{...v.teamInvitations,[t]:null}}))}},ye=async(t,r)=>{try{await T.delete(route("teams.remove-member",{teamId:t,userId:r})),q(!1),S.visit(route("friends.list",{tab:"teams"}),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_()}})}catch(v){console.error("Error removing team member:",v),alert("Failed to remove team member")}},je=t=>{D(t),O(!0),q(!1)},Ne=()=>{O(!1),D(null),S.visit(route("friends.list",{tab:"teams"}),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_()}})};l.useEffect(()=>{o==="mentors"&&(c!=null&&c.isStudent)&&le()},[o]);const le=async()=>{try{const t=await T.get(route("lecturers.list"));xe(t.data)}catch(t){console.error("Error fetching lecturers:",t)}},we=t=>{L(t),V(!0)},Ce=async t=>{var r;try{console.log("Submitting mentor request:",{lecturerId:A.id,message:t,route:route("mentor.request",A.id)}),S.post(route("mentor.request",A.id),{message:t},{onSuccess:()=>{console.log("Mentor request sent successfully"),V(!1),L(null),le()},onError:v=>{console.error("Error sending mentor request:",v)}})}catch(v){console.error("Error sending mentor request:",v),console.error("Error response:",(r=v.response)==null?void 0:r.data)}};return e.jsxs(ke,{user:s.user,children:[e.jsx(_e,{title:"Connections"}),e.jsx(i.div,{className:"py-12 bg-white",initial:"initial",animate:"animate",variants:he,children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx(i.div,{className:"bg-white rounded-2xl shadow-xl border border-orange-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs("div",{className:"p-6",children:[e.jsx(Me,{activeTab:o,onTabChange:f,userRelations:c}),o!=="teams"&&o!=="mentors"&&e.jsxs(i.div,{className:"flex items-center justify-between mb-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},children:[e.jsx("div",{className:"flex-1",children:e.jsx(K,{value:x,onChange:g})}),e.jsxs("div",{className:"relative ml-4 z-50",children:[e.jsxs(i.button,{onClick:()=>U(!Z),whileHover:{scale:1.02},whileTap:{scale:.98},className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-lg text-sm border border-orange-500 transition-all duration-200 shadow-lg",children:[e.jsx("span",{className:"material-symbols-outlined text-sm mr-2",children:"person_add"}),"Friend Requests",G.length>0&&e.jsx(i.span,{className:"ml-2 bg-red-500 px-2 py-0.5 rounded-full text-xs text-white",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:400,damping:10},children:G.length})]}),e.jsx(ze,{isOpen:Z,onClose:()=>U(!1),friendRequests:G,onAccept:W,onReject:B,getOtherUser:k,getProfilePhotoPath:Q,isRequestReceiver:Y,auth:s})]})]}),e.jsx(P,{mode:"sync",children:o==="mentors"?e.jsxs(i.div,{initial:"hidden",animate:"visible",variants:z,className:"overflow-hidden",children:[e.jsx(i.div,{className:"mb-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:e.jsx(K,{value:x,onChange:g,placeholder:"Search lecturers by name, department, or specialization..."})}),e.jsxs(i.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",variants:I,children:[ae.filter(t=>t.name.toLowerCase().includes(x.toLowerCase())||t.department.toLowerCase().includes(x.toLowerCase())||t.specialization.toLowerCase().includes(x.toLowerCase())).map((t,r)=>e.jsx(i.div,{custom:r,variants:E,whileHover:"hover",children:e.jsx(He,{lecturer:t,onRequestMentor:()=>we(t)})},t.id)),ae.length===0&&e.jsx(i.div,{className:"col-span-full",variants:$,children:e.jsx(J,{icon:"school",message:"No lecturers available",description:"Check back later for available mentors"})})]})]},"mentors"):o==="teams"?e.jsxs(i.div,{initial:"hidden",animate:"visible",variants:z,className:"overflow-hidden",children:[e.jsxs(i.div,{className:"flex items-center justify-between mb-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[e.jsx("div",{className:"flex-1",children:e.jsx(K,{value:x,onChange:g,placeholder:"Search teams by name..."})}),e.jsxs("div",{className:"flex gap-4 ml-4",children:[e.jsxs("div",{className:"relative z-50",children:[e.jsxs(i.button,{ref:te,onClick:()=>R(!ee),whileHover:"hover",whileTap:"tap",variants:ie,className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-orange-400 to-orange-500 hover:from-orange-500 hover:to-orange-600 text-white rounded-lg text-sm border border-orange-400 hover:border-orange-500 transition-all duration-200 shadow-lg",children:[e.jsx("span",{className:"material-symbols-outlined text-sm mr-2",children:"mail"}),"Team Invitations",H.length>0&&e.jsx(i.span,{className:"ml-2 bg-red-500 px-2 py-0.5 rounded-full text-xs text-white",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:400,damping:10},children:H.length})]}),e.jsx($e,{isOpen:ee,onClose:()=>R(!1),pendingInvitations:H,onAccept:be,onReject:ve,buttonRef:te,auth:s,loadingStates:ne.teamInvitations})]}),e.jsxs(i.button,{onClick:()=>y(!0),whileHover:"hover",whileTap:"tap",variants:ie,className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-orange-400 to-orange-500 hover:from-orange-500 hover:to-orange-600 text-white rounded-lg text-sm border border-orange-400 hover:border-orange-500 transition-all duration-200 shadow-lg",children:[e.jsx("span",{className:"material-symbols-outlined text-sm mr-2",children:"group_add"}),"Create Team"]})]})]}),e.jsxs(i.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",variants:I,children:[w.filter(t=>t.name.toLowerCase().includes(x.toLowerCase())).map((t,r)=>e.jsx(i.div,{custom:r,variants:E,whileHover:"hover",children:e.jsx(Ae,{team:t,status:"accepted",onClick:()=>pe(t)})},t.id)),w.length===0&&e.jsx(i.div,{className:"col-span-full",variants:$,children:e.jsx(J,{icon:"groups",message:"No teams yet",description:"Create a team to start collaborating with others"})})]})]},"teams"):o==="pending"?e.jsx(i.div,{initial:"hidden",animate:"visible",variants:z,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 overflow-hidden",children:e.jsxs(i.div,{variants:I,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 col-span-full",children:[n.filter(t=>t.status==="pending").map((t,r)=>e.jsx(i.div,{custom:r,variants:E,whileHover:"hover",children:e.jsx(X,{friend:t,otherUser:k(t),photoPath:Q(k(t)),isRequestReceiver:Y(t),onAccept:W,onReject:B})},`friend-${t.id}`)),!n.some(t=>t.status==="pending")&&e.jsx(i.div,{className:"col-span-full",variants:$,children:e.jsx(J,{message:"No pending friend requests"})})]})},"pending"):e.jsxs(i.div,{initial:"hidden",animate:"visible",variants:z,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 overflow-hidden",children:[e.jsxs(i.div,{variants:I,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 col-span-full",children:[oe.filter(t=>t.status==="accepted").filter(t=>k(t).name.toLowerCase().includes(x.toLowerCase())).map((t,r)=>{const v=k(t),Se=Q(v);return e.jsx(i.div,{custom:r,variants:E,whileHover:"hover",children:e.jsx(X,{friend:t,otherUser:v,photoPath:Se,isRequestReceiver:Y(t),onAccept:W,onReject:B,teams:w,isLoading:ne.friendRequests[t.id]})},t.id)}),oe.filter(t=>t.status==="accepted").length===0&&e.jsx(i.div,{className:"col-span-full",variants:$,children:e.jsx(i.div,{className:"bg-gradient-to-br from-orange-50 via-white to-orange-50 rounded-xl p-6 text-center border border-orange-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:e.jsxs(i.div,{className:"flex flex-col items-center justify-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3,duration:.5,type:"spring",stiffness:100},children:[e.jsx(i.span,{className:"material-symbols-outlined text-4xl text-orange-500 mb-2",initial:{rotateY:90},animate:{rotateY:0},transition:{delay:.4,duration:.6,type:"spring"},children:"group"}),e.jsx(i.p,{className:"text-orange-700",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},children:"No friends added yet"}),e.jsx(i.p,{className:"text-orange-600 text-sm",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.5},children:"Start by adding friends to your network"})]})})})]}),o==="all"&&(c==null?void 0:c.isStudent)&&d.length>0&&e.jsxs(i.div,{style:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.5},className:"mt-6 col-span-full",children:[e.jsx("h3",{className:"text-lg font-semibold text-orange-600 mb-3",children:"Suggested Friends"}),e.jsx("div",{className:"friend-suggestions grid grid-cols-1 md:grid-cols-3 gap-4",children:d.map((t,r)=>e.jsx(De,{user:t,index:r},t.id))})]})]},"all")})]})})})}),m.team_grouping&&e.jsx(Re,{isOpen:h,onClose:()=>y(!1),friends:ge,onTeamCreated:ue,auth:s}),e.jsx(Ie,{isOpen:C,onClose:()=>q(!1),team:j,onDelete:fe,onRemoveMember:ye,onAddMember:je,auth:s}),se&&e.jsx(Pe,{isOpen:se,onClose:()=>{O(!1),D(null)},team:me,onSuccess:Ne}),re&&e.jsx(Oe,{isOpen:re,onClose:()=>{V(!1),L(null)},lecturer:A,onSubmit:Ce})]})}const et=Object.freeze(Object.defineProperty({__proto__:null,default:Ve},Symbol.toStringTag,{value:"Module"}));export{et as _};
