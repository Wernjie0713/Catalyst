import{j as e,r as d}from"./index-D3Bj6weo.js";import{S,a as T,$ as Te,L as _e}from"./index.esm-CYkcvaz4.js";import{A as ke}from"./AuthenticatedLayout-C2ejazUz.js";import{D as ce}from"./DisplayProfilePhoto-DFIzBEor.js";import{m as o}from"./proxy-CrpZcEeN.js";import{z as M}from"./transition-dgGWWUwo.js";import{y as R}from"./dialog-Db2lgBmZ.js";import{A as P}from"./index-Dh0BU1j3.js";import{a as Fe}from"./index-CfYVbadh.js";import{M as Me}from"./Modal-BIwpINXw.js";import"./en-US-DNUEYIb-.js";function X({friend:a,otherUser:i,photoPath:s,isRequestReceiver:p,onAccept:m,onReject:c,compact:r=!1,isLoading:l}){const f=()=>{S.visit(route("profile.view",{user:i.id}))};return e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:f,className:`relative group ${r?"p-3":"p-6"} bg-white rounded-xl border border-orange-200 hover:border-orange-300 transition-all duration-300 cursor-pointer shadow-lg hover:shadow-xl`,children:[e.jsx("div",{className:"absolute inset-0 bg-orange-50 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl "}),e.jsxs("div",{className:`relative flex flex-col items-center space-y-4 ${r?"gap-3":"gap-4"}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -inset-2 bg-gradient-to-br from-orange-200 to-orange-300 rounded-full blur-md opacity-0 group-hover:opacity-100 transition-opacity duration-300 "}),e.jsx("div",{className:"relative w-24 h-24 rounded-full overflow-hidden ",children:e.jsx(ce,{profilePhotoPath:s,className:"w-full h-full object-cover"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:`text-lg font-medium text-gray-800 group-hover:text-orange-600 transition-colors duration-300 truncate max-w-[200px] ${r?"text-sm":""}`,children:i==null?void 0:i.name}),e.jsx("p",{className:"text-sm text-gray-600 group-hover:text-gray-700 transition-colors duration-300 ",children:i==null?void 0:i.email})]}),a.status==="pending"&&p&&e.jsxs("div",{className:"flex justify-center space-x-2",onClick:x=>x.stopPropagation(),children:[e.jsxs(o.button,{whileHover:l?{}:{scale:1.05},whileTap:l?{}:{scale:.95},onClick:()=>!l&&m(a.id),disabled:l,className:`px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-xl text-sm border border-orange-500 transition-all duration-200 flex items-center space-x-2 shadow-lg ${l==="accepting"?"opacity-75 cursor-not-allowed":""} `,children:[l==="accepting"&&e.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Accept"})]}),e.jsxs(o.button,{whileHover:l?{}:{scale:1.05},whileTap:l?{}:{scale:.95},onClick:()=>!l&&c(a.id),disabled:l,className:`px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl text-sm border border-red-500 transition-all duration-200 flex items-center space-x-2 shadow-lg ${l==="rejecting"?"opacity-75 cursor-not-allowed":""} `,children:[l==="rejecting"&&e.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Reject"})]})]})]})]})}function qe({activeTab:a,onTabChange:i,userRelations:s}){const p=s==null?void 0:s.isStudent;return e.jsxs("div",{className:"flex space-x-4 mb-6 justify-center",children:[e.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-lg transition-all duration-200 ${a==="all"?"bg-orange-500 text-white border border-orange-500 shadow-lg":"text-gray-600 hover:text-orange-600 hover:bg-orange-50"}`,children:"All Friends"}),p&&e.jsx("button",{onClick:()=>i("mentors"),className:`px-4 py-2 rounded-lg transition-all duration-200 ${a==="mentors"?"bg-orange-500 text-white border border-orange-500 shadow-lg":"text-gray-600 hover:text-orange-600 hover:bg-orange-50"}`,children:"Find Mentors"}),e.jsx("button",{onClick:()=>i("teams"),className:`px-4 py-2 rounded-lg transition-all duration-200 ${a==="teams"?"bg-orange-500 text-white border border-orange-500 shadow-lg":"text-gray-600 hover:text-orange-600 hover:bg-orange-50"}`,children:"Teams"})]})}function J({icon:a="group",message:i,description:s}){return e.jsx("div",{className:"bg-white border border-orange-200 rounded-xl p-6 text-center shadow-lg",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("span",{className:"material-symbols-outlined text-4xl text-orange-500 mb-2",children:a}),e.jsx("p",{className:"text-gray-700 font-medium",children:i}),s&&e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:s})]})})}function K({value:a,onChange:i,placeholder:s="Search friends by name..."}){return e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500",children:e.jsx("span",{className:"material-symbols-outlined text-lg",children:"search"})}),e.jsx("input",{type:"text",value:a,onChange:p=>i(p.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-orange-200 rounded-lg text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-orange-200 focus:border-orange-500 shadow-sm",placeholder:s})]})})}function Re({isOpen:a,onClose:i,friends:s,onTeamCreated:p,auth:m}){const[c,r]=d.useState(""),[l,f]=d.useState([]),[x,g]=d.useState({}),[h,y]=d.useState(!1),w=async u=>{var j,b;u.preventDefault(),g({}),y(!0);try{const C=await T.post(route("teams.store"),{name:c,members:l});C.data.success&&(p(C.data.team),r(""),f([]),i())}catch(C){g(((b=(j=C.response)==null?void 0:j.data)==null?void 0:b.errors)||{general:"Failed to create team"})}finally{y(!1)}};return e.jsx(M,{appear:!0,show:a,as:d.Fragment,children:e.jsxs(R,{as:"div",className:"relative z-50",onClose:i,children:[e.jsx(M.Child,{as:d.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsx(M.Child,{as:d.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(R.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all border border-orange-200",children:[e.jsx(R.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-800 mb-4",children:"Create a New Team"}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"teamName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Team Name"}),e.jsx("input",{type:"text",id:"teamName",value:c,onChange:u=>r(u.target.value),className:"w-full px-3 py-2 bg-white border border-orange-200 rounded-lg text-gray-800 focus:ring-2 focus:ring-orange-200 focus:border-orange-500",placeholder:"Enter team name"}),x.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Members"}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2 custom-scrollbar",children:s.map(u=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-orange-50 rounded-lg border border-orange-100",children:[e.jsx("input",{type:"checkbox",id:`friend-${u.id}`,value:u.id,checked:l.includes(u.id),onChange:j=>{j.target.checked?f([...l,u.id]):f(l.filter(b=>b!==u.id))},className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500 bg-white"}),e.jsx("label",{htmlFor:`friend-${u.id}`,className:"text-gray-800",children:u.name})]},u.id))}),x.friends&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.friends})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 text-sm hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:h||!c||l.length===0,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white text-sm transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:h?"Creating...":"Create Team"})]})]})]})})})})]})})}function Ae({team:a,status:i,isInvited:s,onAccept:p,onReject:m,onClick:c}){var r;return a?e.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative group",children:e.jsxs("div",{className:"relative p-6 bg-white rounded-2xl border border-orange-200 hover:border-orange-300 transition-all duration-300 shadow-lg hover:shadow-xl",children:[e.jsx("div",{className:"absolute inset-0 bg-orange-50 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl"}),e.jsxs("div",{className:"relative flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -inset-2 bg-gradient-to-br from-orange-200 to-orange-300 rounded-full blur-md opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:"w-20 h-20 rounded-full bg-orange-100 flex items-center justify-center",children:e.jsx("span",{className:"material-symbols-outlined text-3xl text-orange-600",children:"group"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 group-hover:text-orange-600 transition-colors duration-300",children:a.name}),e.jsxs("p",{className:"text-sm text-gray-600 group-hover:text-gray-700 transition-colors duration-300",children:["Created by: ",(r=a.creator)==null?void 0:r.name]}),e.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Members: ",a.member_count]})]}),i==="pending"&&s?e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("button",{onClick:p,className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-lg shadow-md transition-all duration-200",children:"Accept"}),e.jsx("button",{onClick:m,className:"px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-lg shadow-md transition-all duration-200",children:"Reject"})]}):e.jsx("button",{onClick:c,className:"w-full px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-lg shadow-md transition-all duration-200",children:"View Details"})]})]})}):null}function $e({isOpen:a,onClose:i,team:s,onDelete:p,onRemoveMember:m,onAddMember:c,auth:r}){if(!s)return null;const l=s.members.filter(x=>x.status==="accepted"&&x.user_id!==s.creator_id),f=l.length+1;return e.jsx(M,{appear:!0,show:a,as:d.Fragment,children:e.jsxs(R,{as:"div",className:"relative z-50",onClose:i,children:[e.jsx(M.Child,{as:d.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsx(M.Child,{as:d.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(R.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all border border-orange-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Team Details"}),(s==null?void 0:s.creator_id)===r.user.id&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>c(s),className:"text-orange-600 hover:text-orange-700 transition-colors",title:"Add Member",children:e.jsx("span",{className:"material-symbols-outlined",children:"person_add"})}),e.jsx("button",{onClick:()=>p(s.id),className:"text-red-600 hover:text-red-700 transition-colors",title:"Delete Team",children:e.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Team Name"}),e.jsx("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-200",children:e.jsx("p",{className:"text-lg text-gray-800 font-medium",children:s.name})}),e.jsxs("div",{className:"mt-2 text-sm text-gray-600 flex items-center",children:[e.jsx("span",{className:"material-symbols-outlined text-sm mr-1 text-orange-600",children:"group"}),"Total Members: ",f]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Team Leader"}),e.jsx("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-200",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"material-symbols-outlined text-orange-600",children:"star"}),e.jsx("p",{className:"text-gray-800",children:s.creator.name})]})})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Team Members (",l.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2 custom-scrollbar",children:l.map(x=>{var g;return e.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-200 flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-800",children:x.user.name}),s.creator_id===((g=r==null?void 0:r.user)==null?void 0:g.id)&&x.user_id!==s.creator_id&&e.jsx("button",{onClick:()=>{confirm("Are you sure you want to remove this member from the team?")&&m(s.id,x.user_id)},className:"text-red-600 hover:text-red-700 transition-colors",children:e.jsx("span",{className:"material-symbols-outlined text-sm",children:"remove_circle"})})]},x.id)})})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{type:"button",className:"px-4 py-2 rounded-lg bg-orange-100 hover:bg-orange-200 text-orange-700 text-sm font-medium transition-colors duration-200 border border-orange-200",onClick:i,children:"Close"})})]})})})})]})})}function Ie({invitation:a,onAccept:i,onReject:s,compact:p=!1,isLoading:m}){return e.jsx("div",{className:"bg-white rounded-xl p-6 border border-orange-200 shadow-lg hover:shadow-xl transition-all duration-200",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-orange-100 flex items-center justify-center mb-4",children:e.jsx("span",{className:"material-symbols-outlined text-3xl text-orange-600",children:"group"})}),e.jsx("h3",{className:"text-xl font-medium text-gray-800 mb-1",children:a.team.name}),e.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:["Created by: ",a.team.creator.name]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs(o.button,{whileHover:m?{}:{scale:1.02},whileTap:m?{}:{scale:.98},onClick:()=>!m&&i&&i(),disabled:m,className:`px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-lg transition-colors duration-200 flex items-center space-x-2 shadow-md ${m==="accepting"?"opacity-75 cursor-not-allowed":""}`,children:[m==="accepting"&&e.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Accept"})]}),e.jsxs(o.button,{whileHover:m?{}:{scale:1.02},whileTap:m?{}:{scale:.98},onClick:()=>!m&&s&&s(),disabled:m,className:`px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-lg transition-colors duration-200 flex items-center space-x-2 shadow-md ${m==="rejecting"?"opacity-75 cursor-not-allowed":""}`,children:[m==="rejecting"&&e.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Reject"})]})]})]})})}function ze({isOpen:a,onClose:i,friendRequests:s,onAccept:p,onReject:m,getOtherUser:c,getProfilePhotoPath:r,isRequestReceiver:l,auth:f}){const x=d.useRef(null);return d.useEffect(()=>{const g=h=>{x.current&&!x.current.contains(h.target)&&i()};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[i]),e.jsx(P,{children:a&&e.jsx(o.div,{ref:x,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute right-0 mt-2 w-96 bg-white rounded-xl shadow-xl border border-orange-200 z-[9999]",style:{zIndex:9999},children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Incoming Friend Requests"}),e.jsxs("span",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded-full text-xs",children:[s.length," pending"]})]}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:s.length>0?s.map(g=>e.jsx(X,{friend:g,otherUser:c(g),photoPath:r(c(g)),isRequestReceiver:l(g),onAccept:p,onReject:m,compact:!0},`friend-${g.id}`)):e.jsxs("div",{className:"text-center py-6",children:[e.jsx("span",{className:"material-symbols-outlined text-4xl text-orange-500 mb-2",children:"person_off"}),e.jsx("p",{className:"text-gray-700",children:"No friend requests yet"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"When someone adds you, their request will appear here"})]})})]})})})}function Ee({isOpen:a,onClose:i,pendingInvitations:s,onAccept:p,onReject:m,buttonRef:c,loadingStates:r={}}){const l=d.useRef(null),[f,x]=d.useState({top:0,right:0});d.useEffect(()=>{if(a&&(c!=null&&c.current)){const h=c.current.getBoundingClientRect();x({top:h.bottom+8,right:window.innerWidth-h.right})}},[a,c]),d.useEffect(()=>{const h=y=>{l.current&&!l.current.contains(y.target)&&i()};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[i]);const g=e.jsx(P,{children:a&&e.jsx(o.div,{ref:l,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed w-96 bg-white rounded-xl shadow-xl border border-orange-200 z-[9999]",style:{top:f.top,right:f.right,zIndex:9999},children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Team Invitations"}),e.jsxs("span",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded-full text-xs",children:[s.length," pending"]})]}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:s.length>0?s.map(h=>e.jsx(Ie,{invitation:h,onAccept:()=>p(h.team_id),onReject:()=>m(h.team_id),compact:!0,isLoading:r[h.team_id]},h.id)):e.jsxs("div",{className:"text-center py-6",children:[e.jsx("span",{className:"material-symbols-outlined text-4xl text-orange-500 mb-2",children:"groups"}),e.jsx("p",{className:"text-gray-700",children:"No team invitations"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"When someone invites you to a team, it will appear here"})]})})]})})});return typeof document<"u"?Fe.createPortal(g,document.body):null}function Pe({isOpen:a,onClose:i,team:s,onSuccess:p}){const[m,c]=d.useState([]),[r,l]=d.useState(""),[f,x]=d.useState(!1),[g,h]=d.useState("");d.useEffect(()=>{a&&s&&y()},[a,s]);const y=async()=>{var u,j;try{const b=await T.get(route("teams.available-friends",s.id));Array.isArray(b.data)&&b.data.length===0?h("No available friends found. They might all be in the team already."):Array.isArray(b.data)?(c(b.data),h("")):h("Invalid response format from server")}catch(b){h(((j=(u=b.response)==null?void 0:u.data)==null?void 0:j.message)||"Failed to load available friends"),c([])}},w=async u=>{var j,b;if(u.preventDefault(),!!r){x(!0),h("");try{await T.post(route("teams.add-member"),{team_id:s.id,user_id:r}),p()}catch(C){console.error("Error adding member:",C),h(((b=(j=C.response)==null?void 0:j.data)==null?void 0:b.message)||"Failed to add member")}finally{x(!1)}}};return e.jsx(Me,{show:a,onClose:i,maxWidth:"sm",children:e.jsx("div",{className:"bg-white rounded-lg border border-orange-200",children:e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Add to Team"})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Team Name"}),e.jsx("div",{className:"bg-orange-50 p-2.5 rounded-md border border-orange-200",children:e.jsx("p",{className:"text-gray-800",children:s==null?void 0:s.name})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Select Friend"}),e.jsx("div",{className:"relative",children:e.jsxs("select",{value:r,onChange:u=>l(u.target.value),className:"w-full bg-white text-gray-800 p-2.5 rounded-md border border-orange-200 focus:border-orange-500 focus:ring-0",required:!0,children:[e.jsx("option",{value:"",className:"bg-white",children:"Choose a friend"}),m.map(u=>e.jsx("option",{value:u.id,className:"bg-white",children:u.name},u.id))]})})]}),g&&e.jsx("div",{className:"mb-4 text-sm text-red-600 bg-red-50 p-2 rounded-md border border-red-200",children:g}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[e.jsx(o.button,{type:"button",onClick:i,whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:"Close"}),e.jsx(o.button,{onClick:w,disabled:f||!r,whileHover:{scale:1.02},whileTap:{scale:.98},className:`px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-md transition-colors shadow-md ${f||!r?"opacity-50 cursor-not-allowed":""}`,children:f?"Adding...":"Add to Team"})]})]})})})}function He({lecturer:a,onRequestMentor:i}){const s=c=>{switch(c){case"pending":return"bg-yellow-100 text-yellow-800";case"accepted":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},p=c=>{switch(c){case"pending":return"Request Pending";case"accepted":return"Your Mentor";case"rejected":return"Request Rejected";default:return"Request Mentor"}},m=!a.request_status||a.request_status==="rejected";return e.jsxs(o.div,{className:"bg-white rounded-xl p-6 border border-orange-200 hover:border-orange-300 transition-all duration-300 h-full flex flex-col shadow-lg hover:shadow-xl",whileHover:{y:-2},layout:!0,children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"relative",children:a.profile_photo_path?e.jsx("img",{src:`/storage/${a.profile_photo_path}`,alt:a.name,className:"w-12 h-12 rounded-full object-cover border-2 border-orange-200"}):e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium text-lg",children:a.name.charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-gray-800 font-semibold text-lg",children:a.name}),e.jsx("p",{className:"text-gray-600 text-sm",children:a.email})]})]}),e.jsxs("div",{className:"space-y-2 mb-4 flex-1",children:[e.jsxs("div",{className:"flex items-center text-sm min-h-[20px]",children:[e.jsx("span",{className:"material-symbols-outlined text-orange-500 mr-2 text-lg",children:"domain"}),e.jsx("span",{className:"text-gray-700 truncate",children:a.department})]}),e.jsxs("div",{className:"flex items-center text-sm min-h-[20px]",children:[e.jsx("span",{className:"material-symbols-outlined text-orange-500 mr-2 text-lg",children:"psychology"}),e.jsx("span",{className:"text-gray-700 truncate",children:a.specialization})]}),e.jsxs("div",{className:"flex items-center text-sm min-h-[20px]",children:[e.jsx("span",{className:"material-symbols-outlined text-orange-500 mr-2 text-lg",children:"school"}),e.jsx("span",{className:"text-gray-700 truncate",children:a.university})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[a.request_status&&e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${s(a.request_status)}`,children:p(a.request_status)}),m&&e.jsxs(o.button,{onClick:()=>i(a),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-lg text-sm border border-orange-500 transition-all duration-200 flex items-center space-x-2 shadow-md",children:[e.jsx("span",{className:"material-symbols-outlined text-sm",children:"person_add"}),e.jsx("span",{children:"Request Mentor"})]})]})]})}function Oe({isOpen:a,onClose:i,lecturer:s,onSubmit:p}){const[m,c]=d.useState(""),[r,l]=d.useState(!1),f=async h=>{if(h.preventDefault(),!r){l(!0);try{await p(m),c("")}catch(y){console.error("Error submitting mentor request:",y)}finally{l(!1)}}},x={hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}},g={hidden:{scale:.95,opacity:0},visible:{scale:1,opacity:1,transition:{type:"spring",stiffness:300,damping:30}},exit:{scale:.95,opacity:0,transition:{duration:.2}}};return s?e.jsx(P,{children:a&&e.jsxs(o.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4",variants:x,initial:"hidden",animate:"visible",exit:"exit",children:[e.jsx(o.div,{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{r||i()}}),e.jsxs(o.div,{className:`relative bg-white rounded-2xl p-6 w-full max-w-lg border border-orange-200 shadow-2xl ${r?"cursor-wait":""}`,variants:g,initial:"hidden",animate:"visible",exit:"exit","aria-busy":r,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Request Mentorship"}),e.jsx(o.button,{onClick:()=>{r||i()},whileHover:r?{}:{scale:1.1},whileTap:r?{}:{scale:.9},disabled:r,className:`text-gray-400 ${r?"cursor-not-allowed opacity-50":"hover:text-orange-600"} transition-colors`,children:e.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-6 p-4 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("div",{className:"relative",children:s.profile_photo_path?e.jsx("img",{src:`/storage/${s.profile_photo_path}`,alt:s.name,className:"w-16 h-16 rounded-full object-cover border-2 border-orange-200"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium text-xl",children:s.name.charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-gray-800 font-semibold text-lg",children:s.name}),e.jsx("p",{className:"text-gray-600 text-sm",children:s.department}),e.jsx("p",{className:"text-gray-600 text-sm",children:s.specialization})]})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Message (Optional)"}),e.jsx("textarea",{value:m,onChange:h=>c(h.target.value),placeholder:"Tell the lecturer why you'd like them as your mentor...",className:`w-full px-4 py-3 bg-white border border-orange-200 rounded-lg text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-orange-200 focus:border-orange-500 transition-all duration-200 resize-none ${r?"opacity-70 cursor-not-allowed":""}`,rows:"4",maxLength:"500",disabled:r}),e.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:[m.length,"/500 characters"]})]}),e.jsxs("div",{className:"flex space-x-3 pt-2",children:[e.jsx(o.button,{type:"button",onClick:()=>{r||i()},whileHover:r?{}:{scale:1.02},whileTap:r?{}:{scale:.98},disabled:r,className:`flex-1 px-4 py-3 ${r?"bg-gray-100 cursor-not-allowed opacity-60":"bg-gray-100 hover:bg-gray-200"} text-gray-700 rounded-lg transition-all duration-200 border border-gray-200`,children:"Cancel"}),e.jsx(o.button,{type:"submit",disabled:r,whileHover:{scale:r?1:1.02},whileTap:{scale:r?1:.98},className:"flex-1 px-4 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 shadow-lg",children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),e.jsx("span",{children:"Sending..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-symbols-outlined text-sm",children:"send"}),e.jsx("span",{children:"Send Request"})]})})]})]})]})]})}):null}const De=({user:a,index:i})=>e.jsx(o.div,{style:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2+i*.1},children:e.jsx(Te,{href:route("profile.view",a.id),className:"group relative block h-[220px]",children:e.jsxs("div",{className:"relative h-full rounded-3xl border border-orange-100 bg-white shadow-[0_8px_30px_rgba(243,112,34,0.06)] overflow-hidden transition-all duration-300 hover:shadow-[0_12px_36px_rgba(243,112,34,0.12)]",children:[e.jsxs("div",{className:"relative h-[110px] bg-gradient-to-br from-orange-100 to-white",children:[e.jsx("div",{className:"absolute inset-0 opacity-30 pointer-events-none bg-[radial-gradient(circle_at_30%_30%,rgba(243,112,34,.15),transparent_40%)]"}),e.jsx("div",{className:"absolute left-6 top-1/2 -translate-y-1/2",children:e.jsx("div",{className:"transform-gpu transition-transform duration-500 ease-out group-hover:scale-110 group-hover:-translate-y-0.5",children:e.jsx(ce,{profilePhotoPath:a.profile_picture,size:84,simple:!0,className:"ring-2 ring-orange-200 shadow-md"})})})]}),e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-gray-900 truncate",children:a.name}),e.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 text-[#F37022]",children:[e.jsx("span",{className:"material-symbols-outlined text-base",children:"person"}),e.jsxs("span",{className:"font-medium relative",children:["View Profile",e.jsx("span",{className:"absolute left-0 -bottom-0.5 w-0 group-hover:w-full h-[2px] bg-[#F37022] transition-all duration-300"})]}),e.jsx("span",{className:"material-symbols-outlined text-base translate-x-0 group-hover:translate-x-1 transition-transform duration-300",children:"arrow_forward"})]})]}),e.jsx("div",{className:"shrink-0",children:e.jsx("span",{className:"inline-flex items-center justify-center w-9 h-9 rounded-full bg-[#F37022]/10 text-[#F37022] group-hover:bg-[#F37022]/15 transition-colors",children:e.jsx("span",{className:"material-symbols-outlined",children:"add"})})})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-[#F37022]/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})})});function Ve({auth:a,friends:i=[],teams:s=[],pendingInvitations:p=[],can:m,userRelations:c,friendSuggestions:r=[]}){const[l,f]=d.useState(()=>{const t=new URL(window.location.href).searchParams.get("tab")||"all";return!m.team_grouping&&t==="teams"?"all":t}),[x,g]=d.useState(""),[h,y]=d.useState(!1),[w,u]=d.useState(s),[j,b]=d.useState(null),[C,q]=d.useState(!1),[Z,U]=d.useState(!1),[ee,A]=d.useState(!1),te=d.useRef(null),[H,me]=d.useState([]),[ae,O]=d.useState(!1),[xe,D]=d.useState(null),[se,he]=d.useState([]),[re,V]=d.useState(!1),[ne,L]=d.useState(null),[ie,N]=d.useState({friendRequests:{},teamInvitations:{},mentorRequests:{},supervisorRequests:{}}),ue={initial:{opacity:0},animate:{opacity:1,transition:{duration:.5,when:"beforeChildren",staggerChildren:.1}}},$={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}}},I={hidden:{opacity:0,y:20},visible:t=>({opacity:1,y:0,transition:{delay:t*.05,duration:.4,ease:"easeOut"}}),hover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.2)",transition:{duration:.2}}},oe={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95,transition:{duration:.1}}},z={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.4,ease:[.25,.1,.25,1],when:"beforeChildren"}}},E={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1,transition:{delay:.1,duration:.4,type:"spring",stiffness:100}}};d.useEffect(()=>{l==="teams"&&m.team_grouping&&w.length===0&&_()},[l]);const _=async()=>{try{const t=await T.get(route("teams.index"));u(t.data.teams),me(t.data.pendingInvitations)}catch(t){console.error("Error fetching teams:",t)}},ge=t=>{u(n=>[...n,t]),y(!1)},W=t=>{N(n=>({...n,friendRequests:{...n.friendRequests,[t]:"accepting"}})),S.post(route("friend.accept",t),{},{preserveScroll:!0,onFinish:()=>{N(n=>({...n,friendRequests:{...n.friendRequests,[t]:null}}))}})},B=t=>{N(n=>({...n,friendRequests:{...n.friendRequests,[t]:"rejecting"}})),S.post(route("friend.reject",t),{},{preserveScroll:!0,onFinish:()=>{N(n=>({...n,friendRequests:{...n.friendRequests,[t]:null}}))}})},le=i.filter(t=>l==="all"?!0:l==="pending"?t.status==="pending":l==="teams"?t.status==="accepted":!0),Y=t=>t.friend_id===a.user.id,k=t=>t.user_id===a.user.id?t.friend:t.user,Q=t=>t?t.student?t.student.profile_photo_path:t.lecturer?t.lecturer.profile_photo_path:t.department_staff?t.department_staff.profile_photo_path:t.organizer?t.organizer.profile_photo_path:null:null,pe=i.filter(t=>t.status==="accepted").map(t=>{const n=k(t);return{id:n.id,name:n.name,email:n.email}});[...i.filter(t=>t.status==="pending"),...w.filter(t=>t.members.some(n=>n.user_id===a.user.id&&n.status==="pending"))];const fe=t=>{b(t),q(!0)},be=async t=>{try{await T.delete(route("teams.destroy",t)),q(!1),S.visit(route("friends.list",{tab:"teams"}),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_()}})}catch(n){console.error("Error deleting team:",n),alert("Failed to delete team")}},G=i.filter(t=>t.status==="pending"&&t.friend_id===a.user.id),ve=async t=>{N(n=>({...n,teamInvitations:{...n.teamInvitations,[t]:"accepting"}}));try{await T.post(route("teams.accept-invitation",t)),A(!1),S.visit(route("friends.list",{tab:"teams"}),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_()},onFinish:()=>{N(n=>({...n,teamInvitations:{...n.teamInvitations,[t]:null}}))}})}catch(n){console.error("Error accepting team invitation:",n),N(v=>({...v,teamInvitations:{...v.teamInvitations,[t]:null}}))}},ye=async t=>{N(n=>({...n,teamInvitations:{...n.teamInvitations,[t]:"rejecting"}}));try{await T.post(route("teams.reject-invitation",t)),A(!1),S.visit(route("friends.list",{tab:"teams"}),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_()},onFinish:()=>{N(n=>({...n,teamInvitations:{...n.teamInvitations,[t]:null}}))}})}catch(n){console.error("Error rejecting team invitation:",n),N(v=>({...v,teamInvitations:{...v.teamInvitations,[t]:null}}))}},je=async(t,n)=>{try{await T.delete(route("teams.remove-member",{teamId:t,userId:n})),q(!1),S.visit(route("friends.list",{tab:"teams"}),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_()}})}catch(v){console.error("Error removing team member:",v),alert("Failed to remove team member")}},Ne=t=>{D(t),O(!0),q(!1)},we=()=>{O(!1),D(null),S.visit(route("friends.list",{tab:"teams"}),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_()}})};d.useEffect(()=>{l==="mentors"&&(c!=null&&c.isStudent)&&de()},[l]);const de=async()=>{try{const t=await T.get(route("lecturers.list"));he(t.data)}catch(t){console.error("Error fetching lecturers:",t)}},Ce=t=>{L(t),V(!0)},Se=t=>new Promise((n,v)=>{try{S.post(route("mentor.request",ne.id),{message:t},{onSuccess:()=>{V(!1),L(null),de(),n()},onError:F=>{console.error("Error sending mentor request:",F),v(F)},onFinish:()=>{}})}catch(F){v(F)}});return e.jsxs(ke,{user:a.user,children:[e.jsx(_e,{title:"Connections"}),e.jsx(o.div,{className:"py-12 bg-white",initial:"initial",animate:"animate",variants:ue,children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx(o.div,{className:"bg-white rounded-2xl shadow-xl border border-orange-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs("div",{className:"p-6",children:[e.jsx(qe,{activeTab:l,onTabChange:f,userRelations:c}),l!=="teams"&&l!=="mentors"&&e.jsxs(o.div,{className:"flex items-center justify-between mb-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},children:[e.jsx("div",{className:"flex-1",children:e.jsx(K,{value:x,onChange:g})}),e.jsxs("div",{className:"relative ml-4 z-50",children:[e.jsxs(o.button,{onClick:()=>U(!Z),whileHover:{scale:1.02},whileTap:{scale:.98},className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-lg text-sm border border-orange-500 transition-all duration-200 shadow-lg",children:[e.jsx("span",{className:"material-symbols-outlined text-sm mr-2",children:"person_add"}),"Friend Requests",G.length>0&&e.jsx(o.span,{className:"ml-2 bg-red-500 px-2 py-0.5 rounded-full text-xs text-white",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:400,damping:10},children:G.length})]}),e.jsx(ze,{isOpen:Z,onClose:()=>U(!1),friendRequests:G,onAccept:W,onReject:B,getOtherUser:k,getProfilePhotoPath:Q,isRequestReceiver:Y,auth:a})]})]}),e.jsx(P,{mode:"sync",children:l==="mentors"?e.jsxs(o.div,{initial:"hidden",animate:"visible",variants:z,className:"overflow-hidden",children:[e.jsx(o.div,{className:"mb-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:e.jsx(K,{value:x,onChange:g,placeholder:"Search lecturers by name, department, or specialization..."})}),e.jsxs(o.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",variants:$,children:[se.filter(t=>t.name.toLowerCase().includes(x.toLowerCase())||t.department.toLowerCase().includes(x.toLowerCase())||t.specialization.toLowerCase().includes(x.toLowerCase())).map((t,n)=>e.jsx(o.div,{custom:n,variants:I,whileHover:"hover",children:e.jsx(He,{lecturer:t,onRequestMentor:()=>Ce(t)})},t.id)),se.length===0&&e.jsx(o.div,{className:"col-span-full",variants:E,children:e.jsx(J,{icon:"school",message:"No lecturers available",description:"Check back later for available mentors"})})]})]},"mentors"):l==="teams"?e.jsxs(o.div,{initial:"hidden",animate:"visible",variants:z,className:"overflow-hidden",children:[e.jsxs(o.div,{className:"flex items-center justify-between mb-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[e.jsx("div",{className:"flex-1",children:e.jsx(K,{value:x,onChange:g,placeholder:"Search teams by name..."})}),e.jsxs("div",{className:"flex gap-4 ml-4",children:[e.jsxs("div",{className:"relative z-50",children:[e.jsxs(o.button,{ref:te,onClick:()=>A(!ee),whileHover:"hover",whileTap:"tap",variants:oe,className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-orange-400 to-orange-500 hover:from-orange-500 hover:to-orange-600 text-white rounded-lg text-sm border border-orange-400 hover:border-orange-500 transition-all duration-200 shadow-lg",children:[e.jsx("span",{className:"material-symbols-outlined text-sm mr-2",children:"mail"}),"Team Invitations",H.length>0&&e.jsx(o.span,{className:"ml-2 bg-red-500 px-2 py-0.5 rounded-full text-xs text-white",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:400,damping:10},children:H.length})]}),e.jsx(Ee,{isOpen:ee,onClose:()=>A(!1),pendingInvitations:H,onAccept:ve,onReject:ye,buttonRef:te,auth:a,loadingStates:ie.teamInvitations})]}),e.jsxs(o.button,{onClick:()=>y(!0),whileHover:"hover",whileTap:"tap",variants:oe,className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-orange-400 to-orange-500 hover:from-orange-500 hover:to-orange-600 text-white rounded-lg text-sm border border-orange-400 hover:border-orange-500 transition-all duration-200 shadow-lg",children:[e.jsx("span",{className:"material-symbols-outlined text-sm mr-2",children:"group_add"}),"Create Team"]})]})]}),e.jsxs(o.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",variants:$,children:[w.filter(t=>t.name.toLowerCase().includes(x.toLowerCase())).map((t,n)=>e.jsx(o.div,{custom:n,variants:I,whileHover:"hover",children:e.jsx(Ae,{team:t,status:"accepted",onClick:()=>fe(t)})},t.id)),w.length===0&&e.jsx(o.div,{className:"col-span-full",variants:E,children:e.jsx(J,{icon:"groups",message:"No teams yet",description:"Create a team to start collaborating with others"})})]})]},"teams"):l==="pending"?e.jsx(o.div,{initial:"hidden",animate:"visible",variants:z,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 overflow-hidden",children:e.jsxs(o.div,{variants:$,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 col-span-full",children:[i.filter(t=>t.status==="pending").map((t,n)=>e.jsx(o.div,{custom:n,variants:I,whileHover:"hover",children:e.jsx(X,{friend:t,otherUser:k(t),photoPath:Q(k(t)),isRequestReceiver:Y(t),onAccept:W,onReject:B})},`friend-${t.id}`)),!i.some(t=>t.status==="pending")&&e.jsx(o.div,{className:"col-span-full",variants:E,children:e.jsx(J,{message:"No pending friend requests"})})]})},"pending"):e.jsxs(o.div,{initial:"hidden",animate:"visible",variants:z,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 overflow-hidden",children:[e.jsxs(o.div,{variants:$,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 col-span-full",children:[le.filter(t=>t.status==="accepted").filter(t=>k(t).name.toLowerCase().includes(x.toLowerCase())).map((t,n)=>{const v=k(t),F=Q(v);return e.jsx(o.div,{custom:n,variants:I,whileHover:"hover",children:e.jsx(X,{friend:t,otherUser:v,photoPath:F,isRequestReceiver:Y(t),onAccept:W,onReject:B,teams:w,isLoading:ie.friendRequests[t.id]})},t.id)}),le.filter(t=>t.status==="accepted").length===0&&e.jsx(o.div,{className:"col-span-full",variants:E,children:e.jsx(o.div,{className:"bg-white rounded-xl p-8 text-center border border-gray-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:e.jsxs(o.div,{className:"flex flex-col items-center justify-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3,duration:.5,type:"spring",stiffness:100},children:[e.jsx(o.span,{className:"material-symbols-outlined text-4xl text-orange-500 mb-2",initial:{rotateY:90},animate:{rotateY:0},transition:{delay:.4,duration:.6,type:"spring"},children:"group"}),e.jsx(o.p,{className:"text-orange-700",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},children:"No friends added yet"}),e.jsx(o.p,{className:"text-orange-600 text-sm",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.5},children:"Start by adding friends to your network"})]})})})]}),l==="all"&&(c==null?void 0:c.isStudent)&&r.length>0&&e.jsxs(o.div,{style:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.5},className:"mt-6 col-span-full",children:[e.jsx("h3",{className:"text-lg font-semibold text-orange-600 mb-3",children:"Suggested Friends"}),e.jsx("div",{className:"friend-suggestions grid grid-cols-1 md:grid-cols-3 gap-4",children:r.map((t,n)=>e.jsx(De,{user:t,index:n},t.id))})]})]},"all")})]})})})}),m.team_grouping&&e.jsx(Re,{isOpen:h,onClose:()=>y(!1),friends:pe,onTeamCreated:ge,auth:a}),e.jsx($e,{isOpen:C,onClose:()=>q(!1),team:j,onDelete:be,onRemoveMember:je,onAddMember:Ne,auth:a}),ae&&e.jsx(Pe,{isOpen:ae,onClose:()=>{O(!1),D(null)},team:xe,onSuccess:we}),re&&e.jsx(Oe,{isOpen:re,onClose:()=>{V(!1),L(null)},lecturer:ne,onSubmit:Se})]})}const et=Object.freeze(Object.defineProperty({__proto__:null,default:Ve},Symbol.toStringTag,{value:"Module"}));export{et as _};
