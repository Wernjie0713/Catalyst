import{_ as p}from"./preload-helper-DPi8upcZ.js";import{r as n,j as e}from"./index-D3Bj6weo.js";import{A as j}from"./AuthenticatedLayout-DgmrdonU.js";import{L as v,$ as y}from"./index.esm-CYkcvaz4.js";import"./en-US-DNUEYIb-.js";function b({students:a=[],stats:r={},auth:o}){const[i,l]=n.useState(""),d=n.useRef(null),x=n.useRef(null),h=n.useRef(null);n.useLayoutEffect(()=>{let t=!0;return(async()=>{try{const s=await p(()=>import("./index-C7nC7rGg.js"),[]);if(!t)return;const m=s.gsap||s.default||s;if(m.defaults({force3D:!0}),d.current&&m.fromTo(d.current,{autoAlpha:0,y:-16},{autoAlpha:1,y:0,duration:.5,ease:"power2.out"}),x.current){const f=Array.from(x.current.querySelectorAll("[data-stat]"));m.fromTo(f,{autoAlpha:0,y:12},{autoAlpha:1,y:0,duration:.4,ease:"power2.out",stagger:.06,delay:.05})}}catch{}})(),()=>{t=!1}},[]);const g=n.useMemo(()=>{const t=i.trim().toLowerCase();return t?a.filter(s=>(s.name||"").toLowerCase().includes(t)||(s.matric_no||"").toLowerCase().includes(t)):a},[a,i]);return e.jsxs(j,{children:[e.jsx(v,{title:"Faculty Students"}),e.jsx("div",{className:"py-12 bg-gray-50 min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{ref:d,className:"mb-8 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[e.jsx("span",{className:"material-symbols-outlined text-[#F37022] mr-3",children:"groups_3"}),"Faculty Students"]}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Browse students from your faculty and university"})]}),e.jsx("div",{ref:x,className:"flex items-center gap-3",children:e.jsxs("div",{className:"hidden sm:flex gap-4",children:[e.jsx("div",{"data-stat":!0,children:e.jsx(c,{label:"Total",value:r.total,icon:"database",color:"orange"})}),e.jsx("div",{"data-stat":!0,children:e.jsx(c,{label:"Active",value:r.active,icon:"bolt",color:"emerald"})}),e.jsx("div",{"data-stat":!0,children:e.jsx(c,{label:"With Projects",value:r.with_projects,icon:"school",color:"indigo"})}),e.jsx("div",{"data-stat":!0,children:e.jsx(c,{label:"With Certificates",value:r.with_certs,icon:"military_tech",color:"violet"})})]})})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"material-symbols-outlined absolute left-3 top-2.5 text-[#F37022]",children:"search"}),e.jsx("input",{value:i,onChange:t=>l(t.target.value),placeholder:"Search by name or matric no",className:"w-full pl-10 pr-4 py-2.5 rounded-md border border-gray-300 focus:ring-2 focus:ring-orange-200 focus:border-[#F37022] bg-white"})]})}),g.length===0?e.jsx("div",{className:"bg-white rounded-xl border border-gray-100 shadow p-12 text-center text-gray-500",children:"No students found."}):e.jsx("div",{ref:h,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map((t,s)=>e.jsx("div",{"data-card":!0,className:"group bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md hover:border-orange-300 transition will-change-transform will-change-opacity",children:e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(N,{name:t.name,photo:t.profile_photo_path}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate max-w-[220px]",children:t.name}),t.is_active&&e.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-green-100 text-green-700",children:"Active"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:t.matric_no}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-gray-500",children:[e.jsx("span",{className:"material-symbols-outlined text-sm",children:"apartment"}),e.jsxs("span",{className:"truncate",children:[t.university," â€¢ ",t.faculty]})]})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-3",children:[e.jsx(u,{icon:"folder",label:"Projects",value:t.projects_count,color:"indigo"}),e.jsx(u,{icon:"military_tech",label:"Certs",value:t.certificates_count,color:"violet"}),e.jsx(u,{icon:"schedule",label:"Updated",value:t.updated_at?new Date(t.updated_at).toLocaleDateString():"-",color:"slate"})]}),e.jsx("div",{className:"mt-4",children:e.jsxs(y,{href:route("profile.view",t.user_id),className:"inline-flex items-center gap-1 text-sm text-[#F37022] hover:text-orange-600",children:[e.jsx("span",{className:"material-symbols-outlined text-sm",children:"visibility"}),"View Profile"]})})]})},t.user_id||s))})]})})]})}function c({label:a,value:r,icon:o,color:i="orange"}){const l={orange:{ring:"ring-orange-200",text:"text-[#F37022]",icon:"text-[#F37022]"},emerald:{ring:"ring-emerald-200",text:"text-emerald-600",icon:"text-emerald-500"},indigo:{ring:"ring-indigo-200",text:"text-indigo-600",icon:"text-indigo-500"},violet:{ring:"ring-violet-200",text:"text-violet-600",icon:"text-violet-500"}}[i]||{ring:"ring-orange-200",text:"text-[#F37022]",icon:"text-[#F37022]"};return e.jsxs("div",{className:`px-4 py-2 rounded-md bg-white border border-gray-200 hover:ring-2 ${l.ring} transition`,children:[e.jsxs("div",{className:`flex items-center gap-2 ${l.text}`,children:[e.jsx("span",{className:`material-symbols-outlined text-base ${l.icon}`,children:o}),e.jsx("span",{className:"text-sm font-medium",children:a})]}),e.jsx("div",{className:"text-2xl font-semibold text-gray-900 -mt-1",children:r??0})]})}function u({icon:a,label:r,value:o,color:i="slate"}){const l={indigo:"text-indigo-600",violet:"text-violet-600",emerald:"text-emerald-600",slate:"text-slate-600",orange:"text-[#F37022]"};return e.jsxs("div",{className:"rounded-md bg-white border border-gray-200 p-3",children:[e.jsxs("div",{className:"text-xs text-gray-600 flex items-center gap-1",children:[e.jsx("span",{className:`material-symbols-outlined text-sm ${l[i]||"text-slate-600"}`,children:a}),r]}),e.jsx("div",{className:"text-sm font-semibold text-gray-900 mt-1",children:o})]})}function N({name:a,photo:r}){if(r)return e.jsx("img",{src:r,alt:a,className:"w-12 h-12 rounded-full object-cover border border-gray-200"});const o=(a||"?").charAt(0).toUpperCase();return e.jsx("div",{className:"w-12 h-12 rounded-full bg-[#F37022] text-white flex items-center justify-center text-lg font-medium",children:o})}const L=Object.freeze(Object.defineProperty({__proto__:null,default:b},Symbol.toStringTag,{value:"Module"}));export{L as _};
