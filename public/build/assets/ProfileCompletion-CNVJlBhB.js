import{r as m,j as e}from"./index-D3Bj6weo.js";import{L as F,S as b}from"./index.esm-CYkcvaz4.js";import{S as w}from"./StudentForm-C4Gw_EVv.js";import{L as N}from"./LecturerForm-Ch2ZZM0y.js";import{O as C}from"./OrganizerForm-CftJtbqE.js";import{U as D}from"./UniversityForm-PKB-hfbe.js";import{D as P}from"./DepartmentStaffForm-BoxBD7Tn.js";const z={student:[{id:"basics",title:"Basic Information",fields:["matric_no","year","level"]},{id:"academic",title:"Academic Details",fields:["faculty","university","programme","expected_graduate"]},{id:"personal",title:"Personal Details",fields:["contact_number","bio"]}],lecturer:[{id:"basics",title:"Basic Information",fields:["specialization"]},{id:"academic",title:"Academic Details",fields:["faculty","university"]},{id:"personal",title:"Personal Details",fields:["contact_number","bio","linkedin"]}],department_staff:[{id:"basics",title:"Basic Information",fields:["department","position"]},{id:"academic",title:"Academic Details",fields:["faculty","university"]},{id:"personal",title:"Personal Details",fields:["contact_number","bio","linkedin"]}],organizer:[{id:"basics",title:"Organization Information",fields:["organization_name","official_email"]},{id:"details",title:"Contact Details",fields:["website","contact_number","linkedin"]},{id:"about",title:"About Organization",fields:["bio"]}],university:[{id:"basics",title:"Basic Information",fields:["name","location"]},{id:"contact",title:"Contact Information",fields:["contact_email","website","contact_number"]},{id:"about",title:"About University",fields:["bio"]}]};function k({auth:o,role:u}){var p;const[t,f]=m.useState(0),[a,x]=m.useState({}),s=z[u]||[],l=s.length,[q,c]=m.useState(""),g=r=>{x(i=>({...i,...r}))},h=()=>{t<l-1?f(t+1):y()},v=()=>{t>0&&f(t-1)},j=r=>{if(r==="lecturer"||r==="university"){window.location.href=route("dashboard");return}b.visit(route("dashboard"))},y=r=>{if(o.user.role==="lecturer"){const n=["first_name","last_name","specialization","institute","qualification","bio"].filter(d=>!a[d]);if(n.length>0){c(`Please fill in all required fields: ${n.join(", ")}`);return}}if(o.user.role==="university"){const n=["name","location","contact_email","website","contact_number","bio"].filter(d=>!a[d]);if(n.length>0){c(`Please fill in all required fields: ${n.join(", ")}`);return}}b.post(route("profile.completion.save"),{...a,role:o.user.role},{onSuccess:()=>j(o.user.role),onError:i=>{c(i.message||"An error occurred while saving your profile."),console.error("Error saving profile:",i)}})},_=()=>s[t]?s[t].fields:[],S=()=>{const r=_(),i={student:w,lecturer:N,university:D,department_staff:P,organizer:C}[u];return i?e.jsx(i,{data:a,onChange:g,visibleFields:r}):e.jsx("div",{children:"Unknown role"})};return e.jsx("div",{className:"relative min-h-screen w-full bg-gradient-to-b from-white via-orange-50 to-orange-100 overflow-hidden",children:e.jsxs("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:[e.jsx(F,{title:"Complete Your Profile"}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Complete Your Profile"}),e.jsxs("p",{className:"text-lg text-gray-600",children:["Step ",t+1," of ",l,": ",(p=s[t])==null?void 0:p.title]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"w-full bg-orange-200/50 rounded-full h-2.5",children:e.jsx("div",{className:"bg-[#F37022] h-2.5 rounded-full transition-all duration-500 ease-in-out",style:{width:`${(t+1)/l*100}%`}})}),e.jsx("div",{className:"flex justify-between mt-2",children:s.map((r,i)=>e.jsx("div",{className:`text-xs ${i<t?"text-orange-600":i===t?"text-gray-800 font-medium":"text-gray-500"}`,children:r.title},r.id))})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-6 rounded-2xl border border-orange-200/50",children:[S(),e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsx("div",{children:t>0?e.jsx("button",{onClick:v,className:`px-4 py-2 text-gray-900 border border-orange-300 rounded-lg
                                            hover:bg-orange-50 transition-colors`,children:"Previous"}):e.jsx("span",{className:"px-4 py-2 text-transparent",children:"placeholder"})}),e.jsx("button",{onClick:h,className:`px-6 py-2 bg-[#F37022] hover:bg-[#e3641a] text-white rounded-lg 
                                    transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-[#F37022]`,children:t===l-1?"Complete":"Next"})]})]})]})]})})}const $=Object.freeze(Object.defineProperty({__proto__:null,default:k},Symbol.toStringTag,{value:"Module"}));export{$ as _};
