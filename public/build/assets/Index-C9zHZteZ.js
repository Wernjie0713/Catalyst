import{r as h,j as e,R as k}from"./index-D3Bj6weo.js";import{K as z,$ as H,L as Y,S as I}from"./index.esm-CYkcvaz4.js";import{A as W}from"./AuthenticatedLayout-DgmrdonU.js";import{E as X}from"./EventModal-COJyB6y-.js";import{u as T}from"./use-motion-value-BX-IYv_n.js";import{M as B,b as P,d as $,n as G,f as J,u as K,e as Z,m as d}from"./proxy-CrpZcEeN.js";import{f as Q}from"./format-CzgadoOX.js";import{_ as D}from"./preload-helper-DPi8upcZ.js";import{A as O}from"./index-Dh0BU1j3.js";import"./en-US-DNUEYIb-.js";import"./TagDisplay-Bl1IuvVv.js";function R(r,u={}){const{isStatic:j}=h.useContext(B),s=h.useRef(null),f=P(()=>$(r)?r.get():r),l=P(()=>typeof f=="string"?f.replace(/[\d.-]/g,""):void 0),g=T(f),m=h.useRef(f),b=h.useRef(G),x=()=>{n(),s.current=Z({keyframes:[U(g.get()),U(m.current)],velocity:g.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...u,onUpdate:b.current})},n=()=>{s.current&&s.current.stop()};return h.useInsertionEffect(()=>g.attach((o,v)=>j?v(o):(m.current=o,b.current=w=>v(V(w,l)),J.postRender(x),g.get()),n),[JSON.stringify(u)]),K(()=>{if($(r))return r.on("change",o=>g.set(V(o,l)))},[g,l]),g}function V(r,u){return u?r+u:r}function U(r){return typeof r=="number"?r:parseFloat(r)}const L={damping:30,stiffness:100,mass:2},q=({event:r,onEventUpdate:u})=>{const j=h.useRef(null),{auth:s}=z().props,f=T(0),l=T(0),g=R(T(0),L),m=R(T(0),L),b=R(1,L),x=R(0),[n,o]=h.useState(r),[v,w]=h.useState(!1);h.useEffect(()=>{o(r)},[r]),h.useEffect(()=>{const c=t=>{t!=null&&t.detail&&(o(t.detail),w(!0))};return window.addEventListener("open-event-modal",c),()=>window.removeEventListener("open-event-modal",c)},[]);const _=c=>{o(c),u&&u(c)};function M(c){if(!j.current)return;const t=j.current.getBoundingClientRect(),N=c.clientX-t.left-t.width/2,E=(c.clientY-t.top-t.height/2)/(t.height/2)*-12,F=N/(t.width/2)*12;g.set(E),m.set(F),f.set(c.clientX-t.left),l.set(c.clientY-t.top)}function p(){b.set(1.05),x.set(1)}function i(){x.set(0),b.set(1),g.set(0),m.set(0)}return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:()=>w(!0),className:"cursor-pointer",children:e.jsx("figure",{ref:j,className:"relative w-[300px] h-[200px] [perspective:800px] flex items-center justify-center z-10",onMouseMove:M,onMouseEnter:p,onMouseLeave:i,children:e.jsxs(d.div,{className:"relative w-full h-full [transform-style:preserve-3d]",style:{rotateX:g,rotateY:m,scale:b},children:[e.jsxs(d.div,{className:"absolute top-0 left-0 w-full h-full rounded-md overflow-hidden",children:[e.jsx("img",{src:n.cover_image?`/${n.cover_image}`:"/default-event-image.jpg",alt:n.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),e.jsx(d.div,{className:"absolute bottom-0 left-0 w-full p-2",style:{transform:"translateZ(30px)"},children:e.jsx("div",{className:"bg-white/95 border border-orange-100 rounded-lg shadow-sm mx-2 mb-2 p-3 text-gray-900 h-32 flex flex-col justify-between overflow-hidden",children:e.jsxs("div",{className:"flex-1 flex flex-col justify-start space-y-1",children:[e.jsx("span",{className:`inline-block px-2 py-0.5 rounded-full text-[10px] text-white ${n.status==="Upcoming"?"bg-green-500":n.status==="Ongoing"?"bg-blue-500":"bg-gray-500"}`,children:n.status}),e.jsx("h3",{className:"text-sm font-bold leading-tight text-gray-900 line-clamp-2",children:n.title}),e.jsxs("div",{className:"flex items-center text-[10px] text-gray-600",children:[e.jsx("span",{className:"material-symbols-outlined text-xs mr-1",children:"calendar_today"}),e.jsxs("span",{children:[Q(new Date(n.date),"MMM dd, yyyy")," â€¢ ",n.formatted_time]})]}),e.jsxs("div",{className:"flex items-center text-[10px] text-gray-600",children:[e.jsx("span",{className:"material-symbols-outlined text-xs mr-1",children:"location_on"}),e.jsx("span",{className:"truncate",children:n.location})]}),!n.is_external&&e.jsxs("div",{className:"flex items-center text-[10px] text-gray-600",children:[e.jsx("span",{className:"material-symbols-outlined text-xs mr-1",children:n.is_team_event?"groups":"group"}),e.jsx("span",{children:n.is_team_event?`${n.enrolled_teams_count||0}/${n.max_participants} teams`:`${n.enrolled_count}/${n.max_participants} participants`})]})]})})})]})})}),e.jsx(X,{event:n,isOpen:v,onClose:()=>w(!1),onEventUpdate:_,auth:s})]})};function ee({links:r,onPageChange:u}){return r.length===3?null:e.jsx("div",{className:"flex items-center justify-center space-x-1.5 my-6",children:r.map((s,f)=>s.url===null?e.jsx("span",{className:"px-3 py-1.5 text-xs text-gray-400 bg-white border border-gray-300 rounded-md cursor-not-allowed",dangerouslySetInnerHTML:{__html:s.label}},f):e.jsx(H,{href:s.url,onClick:l=>{u&&(l.preventDefault(),u(s.url))},className:`px-3 py-1.5 text-xs rounded-md transition-all duration-200 border ${s.active?"bg-[#F37022] border-[#F37022] text-white hover:bg-orange-600":"bg-white border-gray-300 text-gray-700 hover:bg-orange-50 hover:border-orange-300 hover:text-[#F37022]"}`,dangerouslySetInnerHTML:{__html:s.label}},f))})}function te({width:r=48,thickness:u=void 0,lineWidth:j=2.5,side:s="right",offset:f=10,amp:l=18,freq:g=.015,glow:m=!0}){const b=typeof u=="number"?u:r,x=k.useRef(null),n=k.useRef(null);return k.useEffect(()=>{let o=!0,v=null;const w=()=>{const p=x.current;if(!p)return{ctx:null,w:0,h:0};const i=Math.min(window.devicePixelRatio||1,2),c=b,t=window.innerHeight;p.style.width=c+"px",p.style.height=t+"px",p.width=Math.max(2,Math.floor(c*i)),p.height=Math.floor(t*i);const N=p.getContext("2d");return N.setTransform(i,0,0,i,0,0),{ctx:N,w:c,h:t}},_=p=>{const{ctx:i,w:c,h:t}=w();if(!i)return;i.clearRect(0,0,c,t);const N=c/2,C=Math.max(0,Math.min(t,t*p)),E=p*Math.PI*2,F=i.createLinearGradient(0,0,0,t);F.addColorStop(0,"#ff0080"),F.addColorStop(.22,"#F37022"),F.addColorStop(.44,"#FFD166"),F.addColorStop(.66,"#06D6A0"),F.addColorStop(.82,"#118AB2"),F.addColorStop(1,"#6A51FF"),i.lineWidth=j,i.lineCap="round",i.strokeStyle=F,i.shadowBlur=m?6:0,i.shadowColor="rgba(243,112,34,0.25)",i.beginPath();const a=Math.max(60,Math.floor(C/8));for(let y=0;y<=a;y++){const S=y/a*C,A=N+l*Math.sin(S*g+E);y===0?i.moveTo(A,S):i.lineTo(A,S)}i.stroke()};return(async()=>{try{const p=await D(()=>import("./index-C7nC7rGg.js"),[]),{ScrollTrigger:i}=await D(async()=>{const{ScrollTrigger:t}=await import("./ScrollTrigger-B1GGtPrJ.js");return{ScrollTrigger:t}},[]);if(!o)return;const c=p.gsap||p.default||p;c.registerPlugin(i),n.current=c,_(0),v=i.create({trigger:document.body,start:"top top",end:"bottom bottom",scrub:.5,onUpdate:t=>_(t.progress)}),window.addEventListener("resize",()=>_(v?v.progress:0))}catch{_(0)}})(),()=>{o=!1;try{v&&v.kill()}catch{}}},[b,j,l,g]),k.useEffect(()=>(document.body.classList.add("sr-hide-scrollbar"),document.documentElement.classList.add("sr-hide-scrollbar"),()=>{document.body.classList.remove("sr-hide-scrollbar"),document.documentElement.classList.remove("sr-hide-scrollbar")}),[]),e.jsxs("div",{className:"fixed top-0",style:{[s==="left"?"left":"right"]:f,zIndex:20,pointerEvents:"none"},children:[e.jsx("canvas",{ref:x,style:{borderRadius:b/2}}),e.jsx("style",{children:`
                /* Hide native page scrollbar but keep scrolling */
                html.sr-hide-scrollbar, body.sr-hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
                html.sr-hide-scrollbar::-webkit-scrollbar, body.sr-hide-scrollbar::-webkit-scrollbar { width: 0 !important; height: 0 !important; display: none; }
            `})]})}const se=({events:r})=>{const[u,j]=h.useState(r),[s,f]=h.useState("individual"),[l,g]=h.useState(""),[m,b]=h.useState("all"),[x,n]=h.useState("all"),[o,v]=h.useState("all"),[w,_]=h.useState(!1),{can:M}=z().props;h.useEffect(()=>{j(r)},[r]);const p=()=>{const a={};l&&(a.search=l),s&&(a.eventFilter=s),m!=="all"&&(a.statusFilter=m),x!=="all"&&(a.eventTypeFilter=x),o!=="all"&&(a.dateFilter=o),I.get(route("events.index"),a,{preserveState:!0,preserveScroll:!0})};h.useEffect(()=>{const a=setTimeout(()=>{p()},300);return()=>clearTimeout(a)},[l,s,m,x,o]);const i=a=>{const y=new URLSearchParams(a.split("?")[1]||"");l&&y.set("search",l),s&&y.set("eventFilter",s),m!=="all"&&y.set("statusFilter",m),x!=="all"&&y.set("eventTypeFilter",x),o!=="all"&&y.set("dateFilter",o),I.get(route("events.index")+"?"+y.toString(),{},{preserveState:!0,preserveScroll:!0})},c=a=>{j(y=>({...y,data:y.data.map(S=>S.event_id===a.event_id?a:S)}))},t=()=>{g(""),b("all"),n("all"),v("all"),f("individual")},N=u.data,C={initial:{opacity:0},animate:{opacity:1,transition:{duration:.7,ease:"easeInOut"}},exit:{opacity:0,transition:{duration:.3,ease:"easeInOut"}}},E={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1,ease:"easeOut",duration:.5}}},F={hidden:{opacity:0},show:{opacity:1,transition:{duration:.5,ease:"easeOut"}}};return e.jsxs(W,{children:[e.jsx(Y,{title:"Events"}),e.jsx(te,{circleCount:1200}),e.jsx(O,{mode:"wait",children:e.jsx(d.div,{initial:"initial",animate:"animate",exit:"exit",variants:C,className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs(d.div,{className:"flex justify-between items-center mb-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.7,ease:"easeOut"},children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-3xl font-semibold text-black",children:"Events"}),e.jsx("p",{className:"text-gray-600",children:"Discover and join amazing events"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center bg-white rounded-lg border border-gray-200 p-1.5 gap-1 shadow-sm",children:[e.jsxs("button",{onClick:()=>f("individual"),className:`
                                            w-12 sm:w-28 px-3 py-2 rounded-md text-sm font-medium 
                                            transition-colors duration-300 flex items-center justify-center gap-2
                                            ${s==="individual"?"bg-[#F37022] text-white":"text-gray-700 hover:text-black"}
                                        `,children:[e.jsx("span",{className:"material-symbols-outlined text-sm",children:"person"}),e.jsx("span",{className:"hidden sm:inline",children:"Individual"})]}),e.jsxs("button",{onClick:()=>f("team"),className:`
                                            w-12 sm:w-28 px-3 py-2 rounded-md text-sm font-medium 
                                            transition-colors duration-300 flex items-center justify-center gap-2
                                            ${s==="team"?"bg-[#F37022] text-white":"text-gray-700 hover:text-black"}
                                        `,children:[e.jsx("span",{className:"material-symbols-outlined text-sm",children:"groups"}),e.jsx("span",{className:"hidden sm:inline",children:"Team"})]}),e.jsxs("button",{onClick:()=>f("external"),className:`
                                            w-12 sm:w-28 px-3 py-2 rounded-md text-sm font-medium 
                                            transition-colors duration-300 flex items-center justify-center gap-2
                                            ${s==="external"?"bg-[#F37022] text-white":"text-gray-700 hover:text-black"}
                                        `,children:[e.jsx("span",{className:"material-symbols-outlined text-sm",children:"public"}),e.jsx("span",{className:"hidden sm:inline",children:"External"})]})]}),M.event_upload&&e.jsxs(d.a,{whileHover:{scale:1.02},whileTap:{scale:.98},href:route("events.create"),className:`
                                            bg-[#F37022] hover:bg-[#e3641a] text-white font-bold 
                                            py-2 px-4 sm:px-6 rounded-lg transition-colors duration-300 
                                            flex items-center space-x-2 text-sm sm:text-base shadow-lg
                                            fixed bottom-6 right-6 sm:relative sm:bottom-auto sm:right-auto
                                            z-50
                                        `,children:[e.jsx("span",{className:"material-symbols-outlined text-sm",children:"add"}),e.jsx("span",{children:"Create Event"})]})]})]}),e.jsxs(d.div,{className:"mb-6 space-y-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"search"})}),e.jsx("input",{type:"text",placeholder:"Search events by title, description, location, or organizer...",value:l,onChange:a=>g(a.target.value),className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#F37022] focus:border-[#F37022]"}),e.jsx(O,{children:l&&e.jsx(d.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.15},onClick:()=>g(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx("span",{className:"material-symbols-outlined text-gray-400 hover:text-black",children:"close"})})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(d.button,{onClick:()=>_(!w),className:"flex items-center space-x-2 px-4 py-2 rounded-lg bg-white border border-gray-200 hover:border-[#F37022] hover:shadow-md transition-all duration-300 group",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(d.span,{className:"material-symbols-outlined text-sm text-[#F37022]",animate:{rotate:w?180:0},transition:{duration:.3,ease:"easeOut"},children:"expand_more"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-[#F37022] transition-colors",children:"Advanced Filters"}),e.jsx(d.div,{className:"w-2 h-2 rounded-full bg-[#F37022]",animate:{scale:l||m!=="all"||x!=="all"||o!=="all"?1:0,opacity:l||m!=="all"||x!=="all"||o!=="all"?1:0},transition:{duration:.2}})]}),e.jsx(O,{children:(l||m!=="all"||x!=="all"||o!=="all")&&e.jsxs(d.button,{onClick:t,className:"flex items-center space-x-2 px-3 py-2 rounded-lg bg-orange-50 border border-orange-200 text-[#F37022] hover:bg-orange-100 transition-all duration-300",initial:{opacity:0,scale:.8,x:20},animate:{opacity:1,scale:1,x:0},exit:{opacity:0,scale:.8,x:20},whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx("span",{className:"material-symbols-outlined text-sm",children:"clear_all"}),e.jsx("span",{className:"text-sm font-medium",children:"Clear Filters"})]})})]}),e.jsx(O,{children:w&&e.jsxs(d.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.4,ease:"easeOut",opacity:{duration:.3},scale:{duration:.3}},className:"relative overflow-hidden bg-gradient-to-br from-white via-orange-50/30 to-white rounded-xl border border-orange-200/50 shadow-lg backdrop-blur-sm",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-[#F37022]/5 to-transparent rounded-full -translate-y-16 translate-x-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-[#F37022]/5 to-transparent rounded-full translate-y-12 -translate-x-12"}),e.jsxs("div",{className:"relative p-6",children:[e.jsxs(d.div,{className:"flex items-center space-x-2 mb-4",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1,duration:.3},children:[e.jsx("span",{className:"material-symbols-outlined text-[#F37022]",children:"tune"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filter Options"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.3},children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center space-x-2",children:[e.jsx("span",{className:"material-symbols-outlined text-[#F37022] text-sm",children:"schedule"}),e.jsx("span",{children:"Status"})]}),e.jsxs("select",{value:m,onChange:a=>b(a.target.value),className:"w-full bg-white/80 backdrop-blur-sm border border-gray-300 rounded-lg px-3 py-2.5 text-gray-900 focus:outline-none focus:ring-2 focus:ring-[#F37022] focus:border-[#F37022] transition-all duration-200 hover:border-[#F37022]/50",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Upcoming",children:"Upcoming"}),e.jsx("option",{value:"Ongoing",children:"Ongoing"}),e.jsx("option",{value:"Completed",children:"Completed"})]})]}),e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.3},children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center space-x-2",children:[e.jsx("span",{className:"material-symbols-outlined text-[#F37022] text-sm",children:"category"}),e.jsx("span",{children:"Event Type"})]}),e.jsxs("select",{value:x,onChange:a=>n(a.target.value),className:"w-full bg-white/80 backdrop-blur-sm border border-gray-300 rounded-lg px-3 py-2.5 text-gray-900 focus:outline-none focus:ring-2 focus:ring-[#F37022] focus:border-[#F37022] transition-all duration-200 hover:border-[#F37022]/50",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"Workshop",children:"Workshop"}),e.jsx("option",{value:"Competition",children:"Competition"}),e.jsx("option",{value:"Seminar",children:"Seminar"})]})]}),e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center space-x-2",children:[e.jsx("span",{className:"material-symbols-outlined text-[#F37022] text-sm",children:"calendar_today"}),e.jsx("span",{children:"Date"})]}),e.jsxs("select",{value:o,onChange:a=>v(a.target.value),className:"w-full bg-white/80 backdrop-blur-sm border border-gray-300 rounded-lg px-3 py-2.5 text-gray-900 focus:outline-none focus:ring-2 focus:ring-[#F37022] focus:border-[#F37022] transition-all duration-200 hover:border-[#F37022]/50",children:[e.jsx("option",{value:"all",children:"All Dates"}),e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"tomorrow",children:"Tomorrow"}),e.jsx("option",{value:"this_week",children:"This Week"}),e.jsx("option",{value:"this_month",children:"This Month"}),e.jsx("option",{value:"upcoming",children:"Upcoming"}),e.jsx("option",{value:"past",children:"Past Events"})]})]})]})]})]})}),e.jsxs(d.div,{className:"text-sm text-gray-600",initial:{opacity:.7,y:2},animate:{opacity:1,y:0},transition:{duration:.2},children:["Showing ",N.length," of ",u.total," events",(l||m!=="all"||x!=="all"||o!=="all")&&e.jsx("span",{className:"ml-2 text-[#F37022]",children:"(filtered)"})]},`${N.length}-${u.total}`)]}),N.length>0?e.jsxs(e.Fragment,{children:[e.jsx(d.div,{variants:E,initial:"hidden",animate:"show",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-6 justify-items-center px-4 sm:px-0",children:N.map(a=>e.jsx(d.div,{variants:F,className:"w-full max-w-sm",children:e.jsx(q,{event:a,onEventUpdate:c})},a.event_id))}),e.jsx(d.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.7,delay:.2},className:"mt-8",children:e.jsx(ee,{links:u.links,onPageChange:i})})]}):e.jsxs(d.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.7},className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:e.jsx("span",{className:"material-symbols-outlined",style:{fontSize:"4rem"},children:"event_busy"})}),e.jsxs("h3",{className:"text-xl font-medium text-gray-300 mb-2",children:["No ",s==="individual"?"Individual":s==="team"?"Team":"External"," Events Found"]}),e.jsxs("p",{className:"text-gray-400",children:[s==="individual"?"There are no internal individual events available at the moment.":s==="team"?"There are no internal team-based events available at the moment.":"There are no external events available at the moment.",(l||m!=="all"||x!=="all"||o!=="all")&&e.jsx("span",{className:"block mt-2",children:"Try adjusting your filters to see more results."})]})]})]})})})]})},pe=Object.freeze(Object.defineProperty({__proto__:null,default:se},Symbol.toStringTag,{value:"Module"}));export{pe as _};
