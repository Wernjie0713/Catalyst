import{r,j as e}from"./index-D3Bj6weo.js";import{A as k}from"./AuthenticatedLayout-DgmrdonU.js";import{K as M,a as b,L as C,S as R}from"./index.esm-CYkcvaz4.js";import{A as _}from"./index-Dh0BU1j3.js";import{m as l}from"./proxy-CrpZcEeN.js";import{F as L}from"./CheckCircleIcon-DRy72VPP.js";import{F as A}from"./ClockIcon-ljP0LaTI.js";import"./en-US-DNUEYIb-.js";function E({title:c,titleId:i,...d},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},d),c?r.createElement("title",{id:i},c):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const H=r.forwardRef(E);function F({title:c,titleId:i,...d},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},d),c?r.createElement("title",{id:i},c):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const N=r.forwardRef(F);function V({isOpen:c,onClose:i,requests:d,onAccept:n,onReject:f,auth:w,loadingStates:a={}}){const x=r.useRef(null);r.useEffect(()=>{const s=h=>{x.current&&!x.current.contains(h.target)&&i()};return c&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[c,i]);const g={hidden:{opacity:0,scale:.95,y:-10},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:30}},exit:{opacity:0,scale:.95,y:-10,transition:{duration:.2}}},v={hidden:{opacity:0,x:-20},visible:s=>({opacity:1,x:0,transition:{delay:s*.05,duration:.3}})};return e.jsx(_,{children:c&&e.jsxs(l.div,{ref:x,className:"absolute right-0 top-full mt-2 w-96 bg-white rounded-xl shadow-xl border border-gray-200 z-50",variants:g,initial:"hidden",animate:"visible",exit:"exit",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx("span",{className:"material-symbols-outlined text-green-600 mr-2",children:"group_add"}),"Mentor Requests"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Students requesting you as their mentor"})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:d.length===0?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-400 mb-2 block",children:"sentiment_satisfied"}),e.jsx("p",{className:"text-gray-500",children:"No pending mentor requests"})]}):e.jsx("div",{className:"space-y-1",children:d.map((s,h)=>{var j,m,p,y,t;return e.jsx(l.div,{custom:h,variants:v,initial:"hidden",animate:"visible",className:"p-4 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 rounded-full bg-[#F37022] flex items-center justify-center shadow-sm",children:e.jsx("span",{className:"text-white font-medium text-sm select-none",children:((m=(j=s.student)==null?void 0:j.name)==null?void 0:m.slice(0,2).toUpperCase())||"?"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:(p=s.student)==null?void 0:p.name}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(s.created_at).toLocaleDateString()})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:(y=s.student)==null?void 0:y.email}),((t=s.student)==null?void 0:t.student)&&e.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1 space-x-3",children:[e.jsxs("span",{children:["ID: ",s.student.student.student_id]}),e.jsxs("span",{children:["Year ",s.student.student.year]}),e.jsx("span",{children:s.student.student.department})]}),s.message&&e.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-700 italic",children:['"',s.message,'"']})}),e.jsxs("div",{className:"flex space-x-2 mt-3",children:[e.jsxs(l.button,{onClick:()=>!a[s.id]&&n(s.id),whileHover:a[s.id]?{}:{scale:1.05},whileTap:a[s.id]?{}:{scale:.95},disabled:!!a[s.id],className:`px-3 py-1.5 bg-green-600 hover:bg-green-700 text-white rounded-lg text-xs font-medium flex items-center space-x-1 transition-colors ${a[s.id]?"opacity-75 cursor-wait":""}`,children:[a[s.id]==="accepting"?e.jsxs("svg",{className:"animate-spin h-3 w-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):e.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"}),e.jsx("span",{children:"Accept"})]}),e.jsxs(l.button,{onClick:()=>!a[s.id]&&f(s.id),whileHover:a[s.id]?{}:{scale:1.05},whileTap:a[s.id]?{}:{scale:.95},disabled:!!a[s.id],className:`px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white rounded-lg text-xs font-medium flex items-center space-x-1 transition-colors ${a[s.id]?"opacity-75 cursor-wait":""}`,children:[a[s.id]==="rejecting"?e.jsxs("svg",{className:"animate-spin h-3 w-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):e.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"}),e.jsx("span",{children:"Reject"})]})]})]})]})},s.id)})})}),d.length>0&&e.jsx("div",{className:"p-3 bg-gray-50 rounded-b-xl",children:e.jsxs("p",{className:"text-xs text-gray-600 text-center",children:[d.length," pending mentor request",d.length!==1?"s":""]})})]})})}function S({mentees:c,stats:i}){const{auth:d}=M().props,[n,f]=r.useState(""),[w,a]=r.useState(!1),[x,g]=r.useState([]),[v,s]=r.useState({mentorRequests:{}});r.useEffect(()=>{b.get(route("mentor.pending")).then(t=>g(t.data||[])).catch(()=>{})},[]);const h=async(t,u)=>{s(o=>({...o,mentorRequests:{...o.mentorRequests,[t]:u==="accept"?"accepting":"rejecting"}}));try{await b.post(route(`mentor.${u}`,t));const o=await b.get(route("mentor.pending"));g(o.data||[])}catch{}finally{s(o=>({...o,mentorRequests:{...o.mentorRequests,[t]:null}}))}},j={hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.1}}},m={hidden:{scale:.9,opacity:0},visible:{scale:1,opacity:1,transition:{type:"spring",stiffness:300}},hover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",transition:{type:"spring",stiffness:300}}},p=c.filter(t=>t.name.toLowerCase().includes(n.toLowerCase())||t.student_id.toLowerCase().includes(n.toLowerCase())||t.contact.toLowerCase().includes(n.toLowerCase())||t.faculty.toLowerCase().includes(n.toLowerCase())),y=t=>{R.visit(t.profile_url)};return e.jsxs(k,{children:[e.jsx(C,{title:"My Mentees"}),e.jsx("div",{className:"py-12 min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[e.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[e.jsx(N,{className:"h-8 w-8 text-indigo-400 mr-3"}),"My Mentees"]}),e.jsxs("div",{className:"relative",children:[e.jsxs(l.button,{onClick:()=>a(!w),whileHover:{scale:1.02},whileTap:{scale:.98},className:"inline-flex items-center px-4 py-2 bg-orange-100 hover:bg-orange-200 text-[#F37022] rounded-lg text-sm border border-orange-200 hover:border-orange-300 transition-all duration-200 font-medium shadow",children:[e.jsx("span",{className:"material-symbols-outlined text-sm mr-2",children:"group_add"}),"Mentor Requests",x.length>0&&e.jsx("span",{className:"ml-2 bg-red-600 text-white px-2 py-0.5 rounded-full text-xs shadow ring-1 ring-red-700/40",children:x.length})]}),e.jsx(V,{isOpen:w,onClose:()=>a(!1),requests:x,onAccept:t=>h(t,"accept"),onReject:t=>h(t,"reject"),auth:d,loadingStates:v.mentorRequests})]})]}),e.jsxs(l.div,{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8",variants:j,initial:"hidden",animate:"visible",children:[e.jsx(l.div,{className:"bg-gradient-to-br from-white to-blue-50 overflow-hidden shadow-md rounded-xl p-6 border border-blue-100",variants:m,whileHover:"hover",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(N,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-sm font-medium text-blue-600",children:"Total Mentees"}),e.jsx("p",{className:"mt-1 text-3xl font-semibold text-gray-900",children:i.total_mentees})]})]})}),e.jsx(l.div,{className:"bg-gradient-to-br from-white to-green-50 overflow-hidden shadow-md rounded-xl p-6 border border-green-100",variants:m,whileHover:"hover",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(L,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-sm font-medium text-green-600",children:"Active Mentees"}),e.jsx("p",{className:"mt-1 text-3xl font-semibold text-gray-900",children:i.active_mentees})]})]})}),e.jsx(l.div,{className:"bg-gradient-to-br from-white to-yellow-50 overflow-hidden shadow-md rounded-xl p-6 border border-yellow-100",variants:m,whileHover:"hover",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(A,{className:"h-6 w-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-sm font-medium text-yellow-600",children:"Pending Requests"}),e.jsx("p",{className:"mt-1 text-3xl font-semibold text-gray-900",children:i.pending_requests})]})]})}),e.jsx(l.div,{className:"bg-gradient-to-br from-white to-purple-50 overflow-hidden shadow-md rounded-xl p-6 border border-purple-100",variants:m,whileHover:"hover",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(H,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-sm font-medium text-purple-600",children:"Total Requests"}),e.jsx("p",{className:"mt-1 text-3xl font-semibold text-gray-900",children:i.total_requests})]})]})})]}),e.jsxs(l.div,{className:"bg-white overflow-hidden shadow-md rounded-xl border border-gray-100",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[e.jsx(N,{className:"h-6 w-6 text-indigo-500 mr-2"}),"My Mentees"]}),e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search mentees by name, matric number, or contact...",value:n,onChange:t=>f(t.target.value),className:"w-80 pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matric No"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Faculty"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Year"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mentorship Started"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Events"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Projects"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"px-6 py-4 text-center text-sm text-gray-500",children:n?"No mentees match your search.":"No mentees yet."})}):p.map((t,u)=>{var o;return e.jsxs(l.tr,{custom:u,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.05,duration:.3},className:"hover:bg-gray-50 cursor-pointer",onClick:()=>y(t),children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-500 flex items-center justify-center text-white font-medium",children:((o=t.name)==null?void 0:o.charAt(0))||"?"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.name}),e.jsx("div",{className:"text-sm text-gray-500",children:t.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.student_id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.contact}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.faculty}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["Year ",t.year]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.mentorship_started}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:t.total_events_joined})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:t.active_projects})})]},t.id)})})]})})]})]})})]})}const Y=Object.freeze(Object.defineProperty({__proto__:null,default:S},Symbol.toStringTag,{value:"Module"}));export{Y as _};
