import{K as y,r as _,j as e}from"./index.esm-DYHbi2wE.js";import{A as C}from"./AuthenticatedLayout-B8ZFME79.js";import{C as w,r as k,L as A,P as E}from"./index-z80RvGVh.js";w.register(...k);function M({auth:d}){var c,u,m,b,p,x,h;const{report:s}=y().props,i=((c=s==null?void 0:s.data)==null?void 0:c.metrics)||{},r=((m=(u=s==null?void 0:s.data)==null?void 0:u.department_metrics)==null?void 0:m.event_participation)||[],l=((p=(b=s==null?void 0:s.data)==null?void 0:b.department_metrics)==null?void 0:p.university_distribution)||[],[a,g]=_.useState(null),n=t=>{g(a===t?null:t)};return e.jsx(C,{user:d.user,children:e.jsxs("div",{className:"p-6 bg-[#1e1b4b] text-white min-h-screen",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:(x=s==null?void 0:s.data)==null?void 0:x.name}),e.jsxs("p",{className:"text-gray-400",children:["Generated on ",(h=s==null?void 0:s.data)==null?void 0:h.generatedDate]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx(o,{label:"Total Users",value:i.total_users,icon:"people",description:"All system users",isActive:a==="users",onClick:()=>n("users")}),e.jsx(o,{label:"Total Students",value:i.total_students,icon:"school",description:"Registered students",isActive:a==="students",onClick:()=>n("students")}),e.jsx(o,{label:"Total Events",value:i.total_events,icon:"calendar_today",description:"Active events",isActive:a==="events",onClick:()=>n("events")}),e.jsx(o,{label:"Universities",value:i.total_universities,icon:"account_balance",description:"Registered institutions",isActive:a==="universities",onClick:()=>n("universities")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-[#24225a] rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"p-6 border-b border-white/10",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Monthly Events"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Event distribution across months"})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"h-[400px]",children:e.jsx(A,{data:{labels:r.map(t=>t.month),datasets:[{label:"Events",data:r.map(t=>t.count),borderColor:"#8b5cf6",backgroundColor:"rgba(139, 92, 246, 0.1)",borderWidth:2,tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1e1b4b",titleColor:"#fff",bodyColor:"#9ca3af",padding:12,displayColors:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#9ca3af",font:{size:12}}},x:{grid:{display:!1},ticks:{color:"#9ca3af",font:{size:12}}}}}})})})]}),e.jsxs("div",{className:"bg-[#24225a] rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"p-6 border-b border-white/10",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"University Distribution"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Student distribution by university"})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"h-[400px]",children:e.jsx(E,{data:{labels:l.map(t=>t.label),datasets:[{data:l.map(t=>t.value),backgroundColor:l.map(t=>t.color)}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:"#fff",font:{size:12},usePointStyle:!0,padding:20}},tooltip:{backgroundColor:"#1e1b4b",titleColor:"#fff",bodyColor:"#9ca3af",padding:12,callbacks:{label:t=>{const v=t.dataset.data.reduce((j,N)=>j+N,0),f=(t.raw/v*100).toFixed(1);return`${t.label}: ${t.raw} (${f}%)`}}}}}})})})]})]})]})})}function o({label:d,value:s,icon:i,description:r,isActive:l,onClick:a}){return e.jsxs("div",{className:`bg-[#24225a] p-6 rounded-lg shadow-lg cursor-pointer 
                transition-all duration-300 hover:shadow-xl hover:scale-105
                ${l?"ring-2 ring-purple-500 shadow-purple-500/20":""}
            `,onClick:a,children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:`p-3 bg-purple-900/50 rounded-lg transition-all duration-300
                    ${l?"bg-purple-600/50":"bg-purple-900/50"}
                `,children:e.jsx("span",{className:"material-symbols-outlined text-purple-400 text-2xl",children:i})})}),e.jsx("p",{className:"text-3xl font-bold mb-2",children:s||0}),e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:d}),e.jsx("p",{className:"text-xs text-gray-500",children:r})]})}const $=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"}));export{$ as _};
