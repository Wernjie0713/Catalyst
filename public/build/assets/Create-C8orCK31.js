import{j as e}from"./index-D3Bj6weo.js";import{m as _,L as f}from"./index.esm-CYkcvaz4.js";import{A as y}from"./AuthenticatedLayout-D_dNDKCJ.js";import{I as i}from"./InputError-DflrxOlj.js";import{I as d}from"./InputLabel-C_GyD9ao.js";import{P as N}from"./PrimaryButton-D4gZOhu_.js";import{T as m}from"./TextInput-ClIswWn0.js";import{T as w}from"./TextArea-8YKc5Ae-.js";function C({auth:u,teams:p=[],supervisors:x=[],isTeamLeader:o=!1,hasMentors:h=!1,canSelectSupervisor:j=!1}){const{data:t,setData:a,post:v,processing:c,errors:r}=_({title:"",description:"",type:"individual",priority:"medium",start_date:"",expected_end_date:"",team_id:"",supervisor_id:""}),g=s=>{s.preventDefault();const l={...t,supervisor_id:t.supervisor_id||null,team_id:t.team_id||null};v(route("projects.store"),l,{onSuccess:()=>{},onError:n=>{}})},b=s=>{const l=s.target.value;a(n=>({...n,type:l,team_id:l==="individual"?"":n.team_id}))};return e.jsxs(y,{user:u.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Create Project"}),children:[e.jsx(f,{title:"Create Project"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[Object.keys(r).length>0&&e.jsxs("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Error!"}),e.jsx("span",{className:"block sm:inline",children:" Please check the form for errors."})]}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"title",value:"Project Title"}),e.jsx(m,{id:"title",type:"text",name:"title",value:t.title,className:"mt-1 block w-full",onChange:s=>a("title",s.target.value),required:!0}),e.jsx(i,{message:r.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"description",value:"Description"}),e.jsx(w,{id:"description",name:"description",value:t.description,className:"mt-1 block w-full",onChange:s=>a("description",s.target.value),required:!0}),e.jsx(i,{message:r.description,className:"mt-2"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"type",value:"Project Type"}),e.jsxs("select",{id:"type",name:"type",value:t.type,className:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",onChange:b,children:[e.jsx("option",{value:"individual",children:"Individual"}),o&&e.jsx("option",{value:"team",children:"Team"})]}),!o&&e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"You need to be a team leader to create team projects."}),e.jsx(i,{message:r.type,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"priority",value:"Priority"}),e.jsxs("select",{id:"priority",name:"priority",value:t.priority,className:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",onChange:s=>a("priority",s.target.value),children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"critical",children:"Critical"})]}),e.jsx(i,{message:r.priority,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"start_date",value:"Start Date"}),e.jsx(m,{id:"start_date",type:"date",name:"start_date",value:t.start_date,className:"mt-1 block w-full",onChange:s=>a("start_date",s.target.value),required:!0}),e.jsx(i,{message:r.start_date,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"expected_end_date",value:"Expected End Date"}),e.jsx(m,{id:"expected_end_date",type:"date",name:"expected_end_date",value:t.expected_end_date,className:"mt-1 block w-full",onChange:s=>a("expected_end_date",s.target.value),required:!0}),e.jsx(i,{message:r.expected_end_date,className:"mt-2"})]})]}),t.type==="team"&&o&&e.jsxs("div",{children:[e.jsx(d,{htmlFor:"team_id",value:"Select Team"}),e.jsxs("select",{id:"team_id",name:"team_id",value:t.team_id,className:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",onChange:s=>a("team_id",s.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select a team"}),p.map(s=>e.jsxs("option",{value:s.id,children:[s.name," (",s.member_count," members)"]},s.id))]}),e.jsx(i,{message:r.team_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"supervisor_id",value:"Project Supervisor (Required)"}),h?j?e.jsxs(e.Fragment,{children:[e.jsxs("select",{id:"supervisor_id",name:"supervisor_id",value:t.supervisor_id,className:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm pr-10",onChange:s=>a("supervisor_id",s.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select a supervisor from your mentors"}),x.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"You must select one of your mentors as a supervisor to create a project."})]}):e.jsx("div",{className:"mt-1 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"No available supervisors."})," You have mentors, but none are available as supervisors at the moment. You cannot create a project without a supervisor."]})}):e.jsx("div",{className:"mt-1 p-3 bg-blue-50 border border-blue-200 rounded-md",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"No mentors found."})," You must have mentors to create a project. Please establish mentor relationships first by visiting the"," ",e.jsx("a",{href:route("friends.list",{tab:"mentors"}),className:"text-blue-600 hover:text-blue-800 underline",children:"Find Mentors"})," ","page."]})}),e.jsx(i,{message:r.supervisor_id,className:"mt-2"})]}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx(N,{disabled:c||t.type==="team"&&!t.team_id||!t.supervisor_id,className:"ml-4",children:c?"Creating...":"Create Project"})})]})]})})})})]})}const I=Object.freeze(Object.defineProperty({__proto__:null,default:C},Symbol.toStringTag,{value:"Module"}));export{I as _};
