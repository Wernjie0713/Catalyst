import{r as A,j as e}from"./index-D3Bj6weo.js";import{K as S}from"./index.esm-CYkcvaz4.js";import{A as E}from"./AuthenticatedLayout-D_dNDKCJ.js";import{C as M,r as R,L as P,P as $}from"./index-D_y5qTKP.js";import{m as r}from"./proxy-0rKmIGA_.js";M.register(...R);function z({auth:m}){var b,h,v,g,f,y,j;const{report:a}=S().props,s=((b=a==null?void 0:a.data)==null?void 0:b.metrics)||{},o=((v=(h=a==null?void 0:a.data)==null?void 0:h.department_metrics)==null?void 0:v.event_participation)||[],n=((f=(g=a==null?void 0:a.data)==null?void 0:g.department_metrics)==null?void 0:f.university_distribution)||[],[i,l]=A.useState(null),p={initial:{opacity:0},animate:{opacity:1,transition:{duration:.5,when:"beforeChildren",staggerChildren:.1}}},N={initial:{opacity:0,y:-20},animate:{opacity:1,y:0,transition:{duration:.5}}},d={initial:{opacity:0,y:20},animate:t=>({opacity:1,y:0,transition:{delay:t*.1,duration:.5}}),hover:{scale:1.05,boxShadow:"0 10px 25px -5px rgba(76, 29, 149, 0.2)",transition:{duration:.2}},tap:{scale:.98,transition:{duration:.1}}},x={initial:{opacity:0,y:30},animate:t=>({opacity:1,y:0,transition:{delay:.2+t*.2,duration:.6,ease:"easeOut"}}),hover:{y:-5,transition:{duration:.3}}},c=t=>{l(i===t?null:t)};return e.jsx(E,{user:m.user,children:e.jsxs(r.div,{className:"p-6 bg-[#1e1b4b] text-white min-h-screen",initial:"initial",animate:"animate",variants:p,children:[e.jsxs(r.div,{className:"mb-8",variants:N,children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:(y=a==null?void 0:a.data)==null?void 0:y.name}),e.jsxs("p",{className:"text-gray-400",children:["Generated on ",(j=a==null?void 0:a.data)==null?void 0:j.generatedDate]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx(u,{label:"Total Users",value:s.total_users,icon:"people",description:"All system users",isActive:i==="users",onClick:()=>c("users"),index:0,variants:d}),e.jsx(u,{label:"Total Students",value:s.total_students,icon:"school",description:"Registered students",isActive:i==="students",onClick:()=>c("students"),index:1,variants:d}),e.jsx(u,{label:"Total Events",value:s.total_events,icon:"calendar_today",description:"Active events",isActive:i==="events",onClick:()=>c("events"),index:2,variants:d}),e.jsx(u,{label:"Universities",value:s.total_universities,icon:"account_balance",description:"Registered institutions",isActive:i==="universities",onClick:()=>c("universities"),index:3,variants:d})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(r.div,{className:"bg-[#24225a] rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300",variants:x,custom:0,whileHover:"hover",children:[e.jsxs("div",{className:"p-6 border-b border-white/10",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Monthly Events"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Event distribution across months"})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"h-[400px]",children:e.jsx(P,{data:{labels:o.map(t=>t.month),datasets:[{label:"Events",data:o.map(t=>t.count),borderColor:"#8b5cf6",backgroundColor:"rgba(139, 92, 246, 0.1)",borderWidth:2,tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1e1b4b",titleColor:"#fff",bodyColor:"#9ca3af",padding:12,displayColors:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#9ca3af",font:{size:12}}},x:{grid:{display:!1},ticks:{color:"#9ca3af",font:{size:12}}}},animation:{duration:2e3,easing:"easeOutQuart"}}})})})]}),e.jsxs(r.div,{className:"bg-[#24225a] rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300",variants:x,custom:1,whileHover:"hover",children:[e.jsxs("div",{className:"p-6 border-b border-white/10",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"University Distribution"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Student distribution by university"})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"h-[400px]",children:e.jsx($,{data:{labels:n.map(t=>t.label),datasets:[{data:n.map(t=>t.value),backgroundColor:n.map(t=>t.color)}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:"#fff",font:{size:12},usePointStyle:!0,padding:20}},tooltip:{backgroundColor:"#1e1b4b",titleColor:"#fff",bodyColor:"#9ca3af",padding:12,callbacks:{label:t=>{const w=t.dataset.data.reduce((_,k)=>_+k,0),C=(t.raw/w*100).toFixed(1);return`${t.label}: ${t.raw} (${C}%)`}}}},animation:{duration:1500,animateRotate:!0,animateScale:!0}}})})})]})]})]})})}function u({label:m,value:a,icon:s,description:o,isActive:n,onClick:i,index:l,variants:p}){return e.jsxs(r.div,{className:`bg-[#24225a] p-6 rounded-lg shadow-lg cursor-pointer
                transition-all duration-300
                ${n?"ring-2 ring-purple-500 shadow-purple-500/20":""}
            `,onClick:i,variants:p,custom:l,whileHover:"hover",whileTap:"tap",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:`p-3 bg-purple-900/50 rounded-lg transition-all duration-300
                    ${n?"bg-purple-600/50":"bg-purple-900/50"}
                `,children:e.jsx("span",{className:"material-symbols-outlined text-purple-400 text-2xl",children:s})})}),e.jsx(r.p,{className:"text-3xl font-bold mb-2",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1,transition:{delay:.1+l*.1,duration:.4,type:"spring",stiffness:100}},children:a||0}),e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:m}),e.jsx("p",{className:"text-xs text-gray-500",children:o})]})}const L=Object.freeze(Object.defineProperty({__proto__:null,default:z},Symbol.toStringTag,{value:"Module"}));export{L as _};
