import{r as c,j as e}from"./index-D3Bj6weo.js";import{L as C,S as m}from"./index.esm-CYkcvaz4.js";import{A as N}from"./Aurora-71ehcu6u.js";import{S as F}from"./StudentForm-ti_zOpnE.js";import{L as k}from"./LecturerForm-ClYu4w1I.js";import{O as A}from"./OrganizerForm-YIexp1DY.js";import{U as D}from"./UniversityForm-DfK_MJnk.js";import{D as z}from"./DepartmentStaffForm-U8tKPUEI.js";const P={student:[{id:"basics",title:"Basic Information",fields:["matric_no","year","level"]},{id:"academic",title:"Academic Details",fields:["faculty","university","expected_graduate"]},{id:"personal",title:"Personal Details",fields:["contact_number","bio"]}],lecturer:[{id:"basics",title:"Basic Information",fields:["specialization"]},{id:"academic",title:"Academic Details",fields:["faculty","university"]},{id:"personal",title:"Personal Details",fields:["contact_number","bio","linkedin"]}],department_staff:[{id:"basics",title:"Basic Information",fields:["department","position"]},{id:"academic",title:"Academic Details",fields:["faculty"]},{id:"personal",title:"Personal Details",fields:["contact_number","bio","linkedin"]}],organizer:[{id:"basics",title:"Organization Information",fields:["organization_name","official_email"]},{id:"details",title:"Contact Details",fields:["website","contact_number","linkedin"]},{id:"about",title:"About Organization",fields:["bio"]}],university:[{id:"basics",title:"Basic Information",fields:["name","location"]},{id:"contact",title:"Contact Information",fields:["contact_email","website","contact_number"]},{id:"about",title:"About University",fields:["bio"]}]};function E({auth:n,role:f}){var b;const[i,p]=c.useState(0),[l,x]=c.useState({}),s=P[f]||[],a=s.length,[q,d]=c.useState(""),h=t=>{x(r=>({...r,...t}))},g=()=>{i<a-1?p(i+1):_()},v=()=>{i>0&&p(i-1)},j=()=>{m.get(route("dashboard"))},y=t=>{if(t==="lecturer"||t==="university"){window.location.href=route("dashboard");return}m.visit(route("dashboard"))},_=t=>{if(n.user.role==="lecturer"){const o=["first_name","last_name","specialization","institute","qualification","bio"].filter(u=>!l[u]);if(o.length>0){d(`Please fill in all required fields: ${o.join(", ")}`);return}}if(n.user.role==="university"){const o=["name","location","contact_email","website","contact_number","bio"].filter(u=>!l[u]);if(o.length>0){d(`Please fill in all required fields: ${o.join(", ")}`);return}}m.post(route("profile.completion.save"),{...l,role:n.user.role},{onSuccess:()=>y(n.user.role),onError:r=>{d(r.message||"An error occurred while saving your profile."),console.error("Error saving profile:",r)}})},w=()=>s[i]?s[i].fields:[],S=()=>{const t=w(),r={student:F,lecturer:k,university:D,department_staff:z,organizer:A}[f];return r?e.jsx(r,{data:l,onChange:h,visibleFields:t}):e.jsx("div",{children:"Unknown role"})};return c.useEffect(()=>{const t=document.createElement("style");return t.textContent=`
            select option {
                background-color: #2A2A3A;
                color: white;
            }
            select option:checked {
                background-color: #635985;
                color: white;
            }
            select {
                color-scheme: dark;
            }
        `,document.head.appendChild(t),()=>{document.head.removeChild(t)}},[]),e.jsxs("div",{className:"relative min-h-screen w-full bg-[#18122B] overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 w-full h-full",children:e.jsx(N,{colorStops:["#635985","#443C68","#393053"],amplitude:1.5,blend:.8})}),e.jsxs("div",{className:"relative z-10 min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:[e.jsx(C,{title:"Complete Your Profile"}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Complete Your Profile"}),e.jsxs("p",{className:"text-lg text-gray-300",children:["Step ",i+1," of ",a,": ",(b=s[i])==null?void 0:b.title]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"w-full bg-white/10 rounded-full h-2.5",children:e.jsx("div",{className:"bg-[#635985] h-2.5 rounded-full transition-all duration-500 ease-in-out",style:{width:`${(i+1)/a*100}%`}})}),e.jsx("div",{className:"flex justify-between mt-2",children:s.map((t,r)=>e.jsx("div",{className:`text-xs ${r<=i?"text-white":"text-gray-500"}`,children:t.title},t.id))})]}),e.jsxs("div",{className:"bg-[#2A2A3A]/30 backdrop-blur-sm p-6 rounded-2xl border border-[#635985]/30",children:[S(),e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsx("div",{children:i>0?e.jsx("button",{onClick:v,className:`px-4 py-2 text-white border border-[#635985]/50 rounded-lg
                                            hover:bg-[#635985]/20 transition-colors`,children:"Previous"}):e.jsx("button",{onClick:j,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Skip for now"})}),e.jsx("button",{onClick:g,className:`px-6 py-2 bg-[#635985] hover:bg-[#635985]/80 text-white rounded-lg 
                                    transition-colors duration-300 focus:outline-none focus:ring-2 
                                    focus:ring-[#635985] focus:ring-offset-2 focus:ring-offset-[#18122B]`,children:i===a-1?"Complete":"Next"})]})]})]})]})]})}const R=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"}));export{R as _};
